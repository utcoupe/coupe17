<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"ia_pr.class.js.html":{"id":"ia_pr.class.js.html","title":"Source: ia/pr.class.js","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Source: ia/pr.class.js /** * Petit Robot Module * * @module ia/pr * @requires log4js * @see {@Link ia/pr.Pr} */ module.exports = (function () { &quot;use strict&quot;; var logger = require('log4js').getLogger('ia.pr'); var GR_OFFSET = 110; var PR_GR_COEF = 1; /** * Pr Constructor * * @param {Object} ia * @param {string} color Team color */ function Pr(ia, color) { /** IA */ this.ia = ia; /** Position */ this.pos = { // if we are yellow, default, left side of the table x: 0, y: 0, a: 0 }; /** Size of the robot */ this.size = { l: 170, L: 220, d: 280 }; /** Current action */ this.current_action = null; //this.path = null; /** Path */ this.path = []; /** Content */ this.content = { nb_plots: 0, gobelet:false }; /** We have hats on the top */ this.we_have_hats = false; /** Team color */ this.color = color; } /** * Loop */ Pr.prototype.loop = function () { logger.debug('loop'); this.ia.actions.doNextAction(function() { this.loop(); }.bind(this)); }; /** * Collision */ Pr.prototype.collision = function() { if(this.path.length === 0) { // Utile quand on clique nous même sur le bouton dans le simu logger.warn(&quot;Normalement impossible, collision sur un path vide ?&quot;); //return; } logger.info('collision'); this.path = []; this.ia.client.send('pr', &quot;collision&quot;); this.ia.actions.collision(); this.loop(); } /** * Stop */ Pr.prototype.stop = function() { this.ia.client.send('pr', 'stop'); } /** * Place */ Pr.prototype.place = function () { // logger.debug('place'); this.sendInitialPos(); this.ia.client.send('pr', 'placer'); }; /** * Start */ Pr.prototype.start = function () { this.ia.client.send(&quot;pr&quot;, &quot;ouvrir_ax12&quot;); this.loop(); }; /** * Send initial position */ Pr.prototype.sendInitialPos = function () { this.ia.client.send(&quot;pr&quot;, &quot;setpos&quot;, { x: 142, y: 1000, a: 0, color: this.color }); }; /** * Borne * * @param {int} x * @param {int} min * @param {int} max */ function borne(x, min, max) { return x &gt; max ? max : x &lt; min ? min : x; } /** * Parse Order * * @param {string} from * @param {string} name * @param {Object} params */ Pr.prototype.parseOrder = function (from, name, params) { switch(name) { case 'pr.collision': this.collision(); break; // Asserv case 'pr.pos': params.x = borne(params.x, 0, 3000); params.y = borne(params.y, 0, 2000); this.pos = params; break; case 'pr.getpos': this.sendInitialPos(); break; case 'pr.placer': this.place(); break; case 'pr.plot++': this.content.nb_plots += 1; break; case 'pr.plot0': this.content.nb_plots = 0; break; case 'pr.gobelet1': this.content.gobelet = true; break; case 'pr.gobelet0': this.content.gobelet = false; break; case 'pr.hok': this.updatePos(params); break; default: logger.warn('Ordre inconnu dans ia.pr: '+name); } }; /** (mm) between 2 iterations on a segment to detect colision */ var SEGMENT_DELTA_D = 30; /** * Return the distance between two spots * * @param {Object} spot1 * @param {int} spot1.x * @param {int} spot1.y * @param {Object} spot2 * @param {int} spot2.x * @param {int} spot2.y */ Pr.prototype.getDistance = function (spot1, spot2) { return Math.sqrt(Math.pow(spot1.x - spot2.x, 2) + Math.pow(spot1.y - spot2.y, 2)); }; /** * Detect Collision * * @param {Objects} dots */ Pr.prototype.detectCollision = function(dots) { var collision = false; var pf = this.path; var minDist; // for each path segment var complete_path = [this.pos].concat(this.path); for (var i = 0; i &lt; complete_path.length-1 &amp;&amp; !collision; (i++) ) { var segment = [complete_path[i], complete_path[i+1]]; // so segment[0][0] is the x value of the beginning of the segment var segLength = this.getDistance({x:segment[0].x , y:segment[0].y }, {x:segment[1].x , y:segment[1].y }); var nthX = (segment[1].x-segment[0].x)*SEGMENT_DELTA_D/segLength; // segment X axis length nth var nthY = (segment[1].y-segment[0].y)*SEGMENT_DELTA_D/segLength; // for each X cm of the segment for (var j = 0; (j*SEGMENT_DELTA_D) &lt; segLength &amp;&amp; !collision; (j++)) { var segPoint = { x: segment[0].x + nthX*j, y: segment[0].y + nthY*j }; // distance to each estimated position of the ennemi robots minDist = 10000;//this.getDistance(dots[0], segPoint); for(var k = 0; k &lt; dots.length; k++) { var tmp = this.getDistance(dots[k], segPoint); if (tmp &lt; minDist) { minDist = tmp; } } // if (ebots.length == 2) { // var tmp = this.getDistance(ebots[1], segPoint); // if (tmp &lt; minDist) { // minDist = tmp; // } // } // if one of the dist &lt; security diameter, there will be a collision if (minDist &lt; 450) { collision = true; } } } if (collision) { this.collision(); } } /** * Update position * * @param {Object} dots */ Pr.prototype.updatePos = function(dots) { if(this.ia.timer.match_started) { // Invert if green if(this.color == &quot;green&quot;) { dots = dots.map(function(val) { return [val[0], 2000-val[1]]; }); } // Delete our robots for(var i in dots) { if(this.norm(dots[i][0], dots[i][1], this.pos.x, this.pos.y) &lt; 150 || this.norm(dots[i][0], dots[i][1], this.ia.gr.pos.x, this.ia.gr.pos.y) &lt; 150) dots.splice(i, 1); } // Check path this.detectCollision(dots); // Update data this.ia.data.dots = dots.map(function(val) { return { pos: { x: val[0], y: val[1], }, d: 320 } }); if (dots.length &gt; 0) { this.ia.data.erobot[0].pos= { x: dots[0][0], y: dots[0][1] }; if (dots.length &gt; 1) { this.ia.data.erobot[1].pos= { x: dots[1][0], y: dots[1][1] }; }; }; // logger.fatal(dots); // logger.fatal(this.pos); // logger.fatal(this.ia.data.erobot); } }; /** * Distance between two points * * @param {int} Ax * @param {int} AY * @param {int} Bx * @param {int} BY */ Pr.prototype.norm = function(Ax, Ay, Bx, By) { return Math.sqrt(Math.pow(Ax-Bx, 2) + Math.pow(Ay-By, 2)); } return Pr; })(); × Search results Close "},"clients_gr_actuators.class.js.html":{"id":"clients_gr_actuators.class.js.html","title":"Source: clients/gr/actuators.class.js","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Source: clients/gr/actuators.class.js /** * Actuators module * * @module clients/gr/actuators * @requires module:clients/shared/fifo * @requires module:clients/gr/servos * @requires module:clients/gr/servos-simu * @requires module:clients/shared/asserv * @requires module:clients/shared/asserv-simu * @see {@link clients/gr/actuators.Acts} */ module.exports = (function () { var logger = require('log4js').getLogger('gr.acts'); var serialPort = require(&quot;serialport&quot;); /** @type {Object} */ var SerialPort = serialPort.SerialPort; /** @type {clients/shared/fifo.Fifo} */ var fifo = new (require('../shared/fifo.class.js'))(); /** @type {clients/gr/servos.Servos} */ var servos = null; /** @type {clients/gr/asserv.Asserv} */ var asserv = null; var date = new Date(); /** @type {int} */ var lastSendStatus = date.getTime(); /** * Acts Constructor * * @exports clients/gr/actuators.Acts * @constructor * @param {Object} client * @param {Object} sendChildren */ function Acts(client, sendChildren) { /** @type {Object} */ this.client = client; /** @type {Object} */ this.sendChildren = sendChildren; this.start(); } /** * Starts (nothing ?) */ Acts.prototype.start = function(){ }; /** * Cleans fifo and asserv */ Acts.prototype.clean = function(){ fifo.clean(); // A priori déjà vide asserv.clean(); }; /** * Connect to the servos * * @param {Object} [struct] */ Acts.prototype.connectTo = function(struct){ if (!struct.servos) { logger.fatal(&quot;Lancement des servos gr en mode simu !&quot;); servos = new (require('./servos.simu.class.js'))(); } else { servos = new (require('./servos.class.js'))(struct.servos, this.sendStatus); } if (!struct.asserv) { logger.fatal(&quot;Lancement de l'asserv gr en mode simu !&quot;); asserv = new (require('../shared/asserv.simu.class.js'))(this.client, 'gr', fifo); } else { asserv = new (require('../shared/asserv.class.js'))( new SerialPort(struct.asserv, { baudrate: 57600, parser:serialPort.parsers.readline('\\n'), }), this.client, 'gr', this.sendStatus, fifo ); } }; /** * Sends Status */ Acts.prototype.sendStatus = function() { if(lastSendStatus &lt; date.getTime()-1000){ this.sendChildren(this.getStatus); lastSendStatus = date.getTime(); } }; /** * Gets the status */ Acts.prototype.getStatus = function(){ var data = { &quot;status&quot;: &quot;&quot;, &quot;children&quot;: [] }; data.status = &quot;everythingIsAwesome&quot;; if(servos &amp;&amp; servos.ready){ data.children.push(&quot;Arduino servos&quot;); }else data.status = &quot;ok&quot;; if(asserv &amp;&amp; asserv.ready){ data.children.push(&quot;Arduino asserv&quot;); }else data.status = &quot;error&quot;; return data; }; /** * Tries to quit */ Acts.prototype.quit = function(){ if (!!servos &amp;&amp; servos.ready) servos.disconnect(); if (!!asserv &amp;&amp; asserv.ready) asserv.disconnect(); }; /** * Order switch * * @param {string} from * @param {string} name * @param {Object} params * @param {Object} callback */ Acts.prototype.orderHandler = function (from, name, params, callback) { // logger.info(&quot;Just received an order `&quot; + name + &quot;` from &quot; + from + &quot; with params :&quot;); logger.info(name, params); switch (name){ // Others case &quot;acheter&quot;: servos.acheter(callback); break; case &quot;vendre&quot;: servos.vendre(callback); break; // Asserv case &quot;pwm&quot;: asserv.pwm(params.left, params.right, params.ms,callback); break; case &quot;setvit&quot;: asserv.setVitesse(params.v, params.r, callback); break; case &quot;clean&quot;: asserv.clean(callback); break; case &quot;goa&quot;: asserv.goa(params.a,callback); break; case &quot;goxy&quot;: asserv.goxy(params.x, params.y, &quot;avant&quot;,callback); break; case &quot;setpos&quot;: asserv.setPos(params,callback); break; case &quot;setpid&quot;: asserv.setPid(params.p, params.i, params.d,callback); break; default: logger.warn(&quot;Order name &quot; + name + &quot; &quot; + from + &quot; not understood&quot;); callback(); } }; return Acts; })(); × Search results Close "},"clients_gr_detect.class.js.html":{"id":"clients_gr_detect.class.js.html","title":"Source: clients/gr/detect.class.js","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Source: clients/gr/detect.class.js /** * Detect module * * @module clients/gr/detect * @see {@link clients/gr/detect.Detect} */ module.exports = (function () { var log4js = require('log4js'); var logger = log4js.getLogger('pr.detect'); var serialPort = require(&quot;serialport&quot;); var SerialPort = serialPort.SerialPort; var sp = []; /** * Detect constructor * * @exports clients/gr/detect.Detect * @constructor * @param {Object} callback */ function Detect(callback) { /** @type {Object} */ this.devicesFound = { asserv: null, servos: null }; /** @type {Object} */ this.callback = callback; this.searchArduinos(); } /** * Send SP */ Detect.prototype.sendSP = function (){ // Sent to acts this.callback(this.devicesFound); }; /** * Searches Arduino */ Detect.prototype.searchArduinos = function() { // On check tous les ports disponibles serialPort.list(function (err, ports) { for(var i in ports) { if(ports[i].comName.indexOf('ttyUSB') &gt;= 0) { this.devicesFound.servos = ports[i].comName; } else if(ports[i].comName.indexOf('ttyACM') &gt;= 0) { this.devicesFound.asserv = ports[i].comName; } } this.sendSP(); }.bind(this)); }; return Detect; })(); × Search results Close "},"clients_gr_servos.class.js.html":{"id":"clients_gr_servos.class.js.html","title":"Source: clients/gr/servos.class.js","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Source: clients/gr/servos.class.js /** * Servos module * * @module clients/gr/servos * @see {@link clients/gr/servos.Servos} * @see module:clients/gr/servos-simu */ module.exports = (function () { var log4js = require('log4js'); var logger = log4js.getLogger('gr.servos'); var five = require(&quot;johnny-five&quot;); /** @type {Object} */ var board = null; /** @type {Object} */ var servo_gauche, servo_droit; /** * Servos Constructors * * @exports clients/gr/servos.Servos * @constructor * @param {string} sp Server port * @param {Object} sendStatus */ function Servos(sp, sendStatus) { /** @type {boolean} */ this.ready = false; /** @type {Object} */ this.sendStatus = sendStatus; this.connect(sp); } /** * Connect * * @param {string} sp Server port */ Servos.prototype.connect = function(sp) { board = new five.Board({ port: sp, repl: false }); board.on(&quot;ready&quot;, function() { logger.info(&quot;Board servos Ready&quot;); servo_gauche = new five.Servo(2); servo_droit = new five.Servo(3); this.ready = true; this.sendStatus(); this.acheter(); }.bind(this)); }; /** * Acheter * * @param {Object} callback */ Servos.prototype.acheter = function(callback) { servo_gauche.to(170); servo_droit.to(0); setTimeout(callback, 500); }; /** * Vendre * * @param {Object} callback */ Servos.prototype.vendre = function(callback) { servo_gauche.to(50); servo_droit.to(120); setTimeout(function(){ // remontée lente servo_gauche.to(100, 1000); servo_droit.to(70, 1000); }, 500); setTimeout(function(){ servo_gauche.to(50); servo_droit.to(120); }, 2000); setTimeout(function(){ // remontée lente servo_gauche.to(100, 1000); servo_droit.to(70, 1000); }, 2500); setTimeout(function(){ servo_gauche.to(50); servo_droit.to(120); }, 4000); setTimeout(callback, 6000); }; return Servos; })(); × Search results Close "},"clients_gr_servos.simu.class.js.html":{"id":"clients_gr_servos.simu.class.js.html","title":"Source: clients/gr/servos.simu.class.js","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Source: clients/gr/servos.simu.class.js /** * Servos Simulator module * * @module clients/gr/servos-simu * @see clients/gr/servos-simu.Servos */ module.exports = (function () { var log4js = require('log4js'); var logger = log4js.getLogger('gr.servos'); /** * Servos constructor * * @exports clients/gr/servos-simu.Servos * @constructor * @param {Object} sp */ function Servos(sp) { } /** * Acheter * * @param {Object} callback */ Servos.prototype.acheter = function(callback) { setTimeout(callback, 500); }; /** * Vendre * * @param {Object} callback */ Servos.prototype.vendre = function(callback) { setTimeout(callback, 500); }; return Servos; })(); × Search results Close "},"clients_pr_actuators.class.js.html":{"id":"clients_pr_actuators.class.js.html","title":"Source: clients/pr/actuators.class.js","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Source: clients/pr/actuators.class.js /** * Actuators module * * @module clients/pr/actuators * @requires clients/shared/fifo * @see {@link clients/pr/actuators.Acts} */ module.exports = (function () { var logger = require('log4js').getLogger('pr.acts'); var serialPort = require(&quot;serialport&quot;); var SerialPort = serialPort.SerialPort; var spawn = require('child_process').spawn; /** @type {clients/shared/fifo.Fifo} */ var fifo = new (require('../shared/fifo.class.js'))(); var others = null; var asserv = null; var ax12 = null; var date = new Date(); /** @type {int} */ var lastSendStatus = date.getTime(); /** * Acts Constructor * * @exports clients/pr/actuators.Acts * @constructor * @param {Object} client * @param {Object} sendChildren */ function Acts(client, sendChildren) { /** @type {Object} */ this.client = client; /** @type {Object} */ this.sendChildren = sendChildren; this.start(); /** @type {int} */ this.nb_plots = 0; /** @type {boolean} */ this.new_has_ball = false; /** @type {boolean} */ this.has_gobelet = false; } /** * Starts (nothing ?) */ Acts.prototype.start = function(){ }; /** * Cleans all */ Acts.prototype.clean = function(){ fifo.clean(); // A priori déjà vide asserv.clean(); ax12.ouvrir(); others.ouvrirStabilisateurGrand(); others.ouvrirBloqueurGrand(); }; /** * Connect to * * @param {Object} struct */ Acts.prototype.connectTo = function(struct){ if (!struct.others) { logger.fatal(&quot;Lancement de others pr en mode simu !&quot;); others = new (require('./others.simu.class.js'))(fifo); } else { others = new (require('./others.class.js'))( new SerialPort(struct.others, { baudrate: 57600 }), this.sendStatus, fifo ); } if (!struct.asserv) { logger.fatal(&quot;Lancement de l'asserv pr en mode simu !&quot;); asserv = new (require('../shared/asserv.simu.class.js'))(this.client, 'pr', fifo); } else { asserv = new (require('../shared/asserv.class.js'))( new SerialPort(struct.asserv, { baudrate: 57600, parser:serialPort.parsers.readline('\\n') }), this.client, 'pr', this.sendStatus, fifo ); } if (!struct.ax12) { logger.fatal(&quot;Lancement de l'usb2ax pr en mode simu !&quot;); ax12 = new (require('./ax12.simu.class.js'))(fifo); } else { ax12 = new (require('./ax12.class.js'))(struct.ax12, this.sendStatus, fifo); } // Initialisation setTimeout(function() { others.ouvrirStabilisateurGrand(); others.lacherGobelet(); others.ouvrirBloqueurGrand(); others.descendreAscenseur(); ax12.ouvrir(function() { logger.fatal('BAZOOKA'); }); }, 1000); }; /** * Send status */ Acts.prototype.sendStatus = function() { if(lastSendStatus &lt; date.getTime()-1000){ this.sendChildren(this.getStatus); lastSendStatus = date.getTime(); } }; /** * Get Status */ Acts.prototype.getStatus = function(){ var data = { &quot;status&quot;: &quot;&quot;, &quot;children&quot;: [] }; data.status = &quot;everythingIsAwesome&quot;; if(others &amp;&amp; !!others.ready) data.children.push(&quot;Arduino others&quot;); else data.status = &quot;ok&quot;; if(ax12 &amp;&amp; !!ax12.ready) data.children.push(&quot;USB2AX&quot;); else data.status = &quot;ok&quot;; if(asserv &amp;&amp; !!asserv.ready) data.children.push(&quot;Arduino asserv&quot;); else data.status = &quot;error&quot;; return data; }; /** * Quit */ Acts.prototype.quit = function(){ if (ax12 &amp;&amp; ax12.ready) ax12.disconnect(); }; /** * fake */ function fake() {} Acts.prototype.delay = function(ms, callback){ fifo.newOrder(function() { setTimeout(function() { if(callback !== undefined) callback(); fifo.orderFinished(); }, ms); }, 'delay'); } /** * Prendre plot * * @param {Object} [callback] * @param {int} [monter] */ Acts.prototype.prendre_plot = function(callback, monter){ if(callback === undefined) { callback = function() {}; } if (monter === undefined) { monter = 1; } var that = this; if (that.new_has_ball) { that.new_has_ball = false; others.descendreUnPeuAscenseur(); ax12.ouvrir(); others.descendreAscenseur(); that.prendre_plot(callback); } else if (that.nb_plots&gt;=3 || !monter){ ax12.ouvrir(); others.fermerStabilisateur(); ax12.fermer(); others.monterUnPeuAscenseur(function() { that.client.send('ia', 'pr.plot++'); callback(); }); others.ouvrirBloqueurMoyen(); others.fermerBloqueur(); } else if (that.nb_plots==0) { ax12.ouvrir(); others.ouvrirBloqueurMoyen(); ax12.fermer(); others.monterAscenseur(function() { that.client.send('ia', 'pr.plot++'); setTimeout(callback, 200); }); others.fermerBloqueur(); ax12.ouvrir(); others.ouvrirStabilisateurMoyen(function() {}, 0); others.descendreAscenseur(); } else if(that.nb_plots==1){ ax12.ouvrir(); others.ouvrirStabilisateurMoyen(); ax12.fermer(); others.ouvrirBloqueurMoyen(); others.monterAscenseur(function() { that.client.send('ia', 'pr.plot++'); setTimeout(callback, 200); }); others.fermerBloqueur(); ax12.ouvrir(function() {}); others.descendreAscenseur(); } else { ax12.ouvrir(); others.ouvrirStabilisateurMoyen(); ax12.fermer(); others.ouvrirBloqueurMoyen(); others.monterAscenseur(function() { that.client.send('ia', 'pr.plot++'); setTimeout(callback, 200); }); others.fermerStabilisateur(fake,0); others.fermerBloqueur(); ax12.ouvrir(function() {}); others.descendreAscenseur(); } that.nb_plots++; } /** * Pousser plot * * @param {Object} [callback] */ Acts.prototype.pousser_plot = function(callback){ if(callback === undefined) { callback = function() {}; } ax12.ouvrir(); asserv.goxy(1150, 200, &quot;avant&quot;); asserv.goxy(1100, 250, &quot;arriere&quot;, callback); } /** * Prendre plot * * @param {Object} [callback] */ Acts.prototype.prendre_plot2 = function(callback){ if(callback === undefined) { callback = function() {}; } var that = this; asserv.speed(300, 0, 750); if (that.new_has_ball) { that.new_has_ball = false; others.descendreUnPeuAscenseur(); ax12.ouvrir(); others.descendreAscenseur(); that.prendre_plot(callback); } else { ax12.ouvrir(); ax12.fermer(); others.monterUnPeuAscenseur(function() { that.client.send('ia', 'pr.plot++'); callback(); }); } that.nb_plots++; } /** * Monter plot 2 * * @param {Object} [callback] */ Acts.prototype.monter_plot2 = function(callback){ if(callback === undefined) { callback = function() {}; } var that = this; callback(); if (that.nb_plots == 1) { others.ouvrirBloqueurMoyen(); others.monterAscenseur(); others.fermerBloqueur(); others.fermerStabilisateur(); ax12.ouvrir(); others.descendreAscenseur(); } else { others.ouvrirStabilisateurMoyen(); others.ouvrirBloqueurMoyen(); others.monterAscenseur(); others.fermerBloqueur(); others.fermerStabilisateur(); ax12.ouvrir(); others.descendreAscenseur(); } } /** * Order switch * * @param {string} from * @param {string} name * @param {Object} params * @param {Object} callback */ Acts.prototype.orderHandler = function (from, name, params, callback) { // logger.info(&quot;Just received an order `&quot; + name + &quot;` from &quot; + from + &quot; with params :&quot;); // logger.info(params); var that = this; /** @todo : add a callback parameter to all functions (and call it) */ switch (name){ // others case &quot;placer&quot;: asserv.setPid(0.25, 130, 13); asserv.goxy(500, 940); asserv.goa(-0.62); this.orderHandler('ia','fermer_tout', {}, callback); break; case &quot;prendre_plot&quot;: this.prendre_plot(callback); break; case &quot;pousser_plot&quot;: this.pousser_plot(callback); break; case &quot;prendre_plot2&quot;: this.prendre_plot2(callback); break; case &quot;monter_plot2&quot;: this.monter_plot2(callback); break; case &quot;reset_nb_plots&quot;: this.nb_plots = 0; callback(); break; case &quot;prendre_plot_rear_left&quot;: asserv.goxy(160, 1800, &quot;avant&quot;); that.prendre_plot(undefined, 0); asserv.goxy(270, 1800, &quot;arriere&quot;, callback); break; case &quot;prendre_plot_rear_left_calage&quot;: asserv.goxy(250, 1450, &quot;arriere&quot;); asserv.goa(1.5708); asserv.pwm(-70, -70, 1500); asserv.calageY(1288, 1.5708); asserv.goxy(250, 1450, 500); asserv.goa(0); asserv.pwm(-70, -70, 1500); asserv.calageX(65, 0); asserv.goxy(120, 1450, &quot;avant&quot;); asserv.goxy(120, 1790, &quot;avant&quot;); that.prendre_plot(); asserv.goa(-1); asserv.speed(500, 0, 750, callback); break; case &quot;prendre_gobelet_et_2_plots_front&quot;: others.lacherGobelet(fake,0); asserv.goxy(275, 260, &quot;arriere&quot;); others.prendreGobelet(function() { that.has_gobelet = true; that.client.send('ia', 'pr.gobelet1'); }); asserv.speed(500, 0, 500); asserv.goxy(165, 270, &quot;avant&quot;); //100 au lieu de 90 pos plot that.prendre_plot(undefined, 1); //asserv.speed(-300, -300, 600); asserv.goxy(285, 310, &quot;arriere&quot;); asserv.goxy(155, 180, &quot;avant&quot;); that.prendre_plot(callback); break; case &quot;deposer_pile_left_2&quot;: asserv.goxy(650, 1000, &quot;avant&quot;); others.descendreAscenseur(); ax12.ouvrir(); others.ouvrirBloqueurMoyen(fake,0); others.ouvrirStabilisateurMoyen(); that.delay(500); others.ouvrirBloqueurGrand(fake,0); others.ouvrirStabilisateurGrand(function() { that.nb_plots = 0; that.client.send('ia', 'pr.plot0'); }); asserv.speed(-300, 0, 1000); break; case &quot;recalage_stairs&quot;: asserv.goxy(250, 1450, &quot;arriere&quot;); asserv.goa(1.5708); asserv.pwm(-80, -80, 1500); asserv.calageY(1288, 1.5708); asserv.goxy(250, 1450, 500); asserv.goa(0); asserv.pwm(-80, -80, 1500); asserv.calageY(65, 0); asserv.goxy(120, 1450, &quot;avant&quot;); break; case &quot;prendre_2_plots_stairs&quot;: asserv.goxy(800, 1740, &quot;avant&quot;); that.prendre_plot(undefined, 1); that.delay(1000); asserv.goxy(830, 1850, &quot;avant&quot;); that.prendre_plot(undefined, 0); asserv.speed(-300, 0, 1000, callback); break; case &quot;prendre_gobelet&quot;: others.lacherGobelet(fake,0); asserv.speed(-300, 0, 500); others.prendreGobelet(function() { that.client.send('ia', 'pr.gobelet1'); that.has_gobelet = true; callback(); }); break; case &quot;deposer_pile_et_gobelet&quot;: asserv.goxy(250, 1000, &quot;avant&quot;); others.descendreUnPeuAscenseur(); ax12.ouvrir(); others.ouvrirBloqueurMoyen(fake,0); others.ouvrirStabilisateurMoyen(); that.delay(500); others.ouvrirBloqueurGrand(fake,0); others.ouvrirStabilisateurGrand(function() { that.nb_plots = 0; that.client.send('ia', 'pr.plot0'); }); asserv.speed(-300, 0, 1000); asserv.goa(0); others.lacherGobelet(function() { that.client.send('ia', 'pr.gobelet0'); }); that.delay(300); asserv.speed(300, 0, 750, callback); others.ouvrirStabilisateurMoyen(fake,0); others.ouvrirBloqueurMoyen(fake,0); others.descendreAscenseur(); break; case &quot;deposer_pile_gobelet_prendre_balle_gauche&quot;: asserv.goxy(300, 1000, &quot;avant&quot;); //asserv.goa(-2.3562); others.descendreUnPeuAscenseur(); ax12.ouvrir(); others.ouvrirBloqueurGrand(fake,0); others.ouvrirStabilisateurMoyen(); that.delay(500); others.ouvrirStabilisateurGrand(); asserv.speed(-300, 0, 1000); asserv.goa(0); others.lacherGobelet(); that.delay(300); asserv.speed(300, 0, 750); /*asserv.goxy(700, 1300, &quot;arriere&quot;, function() { that.client.send('ia', 'data.add_dynamic', {pos:{x:450, y:880}, d:8}); }); others.ouvrirBloqueurMoyen(fake,0); others.ouvrirStabilisateurMoyen(fake,0); others.monterMoyenAscenseur(); asserv.goxy(260, 1050, &quot;osef&quot;); asserv.goa(3.1416/2); asserv.pwm(50, 50, 1500); asserv.calageY(1126, 3.1416/2); asserv.goxy(260, 1000, &quot;arriere&quot;); asserv.goa(3.1416); asserv.goxy(200, 1000, &quot;avant&quot;); asserv.goa(3.1416); asserv.pwm(50, 50, 1500); asserv.calageX(145, 3.1416); ax12.fermerBalle(); asserv.goxy(260, 1000, &quot;arriere&quot;); others.descendreMoyenAscenseur(); ax12.fermerBalle2(); asserv.goxy(260, 1000, &quot;arriere&quot;); others.monterAscenseur(); asserv.goxy(330, 1000, &quot;avant&quot;); asserv.goa(0.1863); others.lacherGobelet(); that.delay(100); that.new_has_ball = true; that.client.send('ia', 'pr.plot0'); that.client.send('ia', 'pr.gobelet0'); that.nb_plots = 0; that.has_gobelet = false; asserv.goxy(600, 1050, &quot;avant&quot;, callback);*/ break; case &quot;deposer_gobelet&quot;: asserv.goa(3.1416); that.delay(100); others.lacherGobelet(); that.client.send('ia', 'pr.gobelet0'); asserv.speed(500, 0, 800, callback); break; case &quot;fermer_tout&quot;: others.lacherGobelet(); others.fermerBloqueur(); others.descendreAscenseur(); others.rangerClap(); others.fermerStabilisateur(); ax12.fermer(callback); break; case &quot;ouvrir_ax12&quot;: ax12.ouvrir(callback); break; case &quot;monter_ascenseur&quot;: others.monterAscenseur(callback); break; case &quot;clap_1&quot;: others.sortirClap(); asserv.goxy(330, 140, &quot;osef&quot;, function() { callback(); others.rangerClap(); }); break; case &quot;clap_3&quot;: others.sortirClap(); asserv.goxy(1000, 140, &quot;osef&quot;, function() { callback(); others.rangerClap(); }); break; case &quot;clap_5&quot;: others.sortirClap(); asserv.goxy(2300, 140, &quot;osef&quot;, function() { callback(); others.rangerClap(); }); break; // Asserv case &quot;pwm&quot;: asserv.pwm(params.left, params.right, params.ms, callback); break; case &quot;setvit&quot;: asserv.setVitesse(params.v, params.r, callback); break; case &quot;clean&quot;: asserv.clean(callback); break; case &quot;goa&quot;: asserv.goa(params.a, callback, true); break; case &quot;goxy&quot;: asserv.goxy(params.x, params.y, params.sens, callback, true); break; case &quot;setpos&quot;: asserv.setPos(params, callback); break; case &quot;setacc&quot;: asserv.setAcc(params.acc, callback); break; case &quot;setpid&quot;: asserv.setPid(params.p, params.i, params.d, callback); break; case &quot;sync_git&quot;: spawn('/root/sync_git.sh', [], { detached: true }); break; // Debug case &quot;AX12_close&quot;: ax12.fermer(callback); break; case &quot;AX12_open&quot;: ax12.ouvrir(callback); break; default: logger.warn(&quot;Order name &quot; + name + &quot; &quot; + from + &quot; not understood&quot;); callback(); } }; return Acts; })(); × Search results Close "},"clients_pr_ax12.simu.class.js.html":{"id":"clients_pr_ax12.simu.class.js.html","title":"Source: clients/pr/ax12.simu.class.js","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Source: clients/pr/ax12.simu.class.js /** * AX12 Simulator module * * @module clients/pr/ax12-simu * @see {@link clients/pr/ax12-simu.Ax12} */ module.exports = (function () { var logger = require('log4js').getLogger('pr.ax12'); /** * Ax12 constructor * * @exports clients/pr/ax12-simu.Ax12 * @constructor * @param {clients/shared/fifo.Fifo} fifo */ function Ax12(fifo) { this.fifo = fifo; } /** * Disconnects (nothing ?) * * @param {} x */ Ax12.prototype.disconnect = function(x) { }; /** * Calls callback * * @param {Object} [callback] * @param {int} ms */ Ax12.prototype.callCallback = function(callback, ms) { if(callback === undefined) { callback = function(){}; } this.fifo.newOrder(function() { setTimeout(function() { callback(); this.fifo.orderFinished(); }.bind(this), parseInt(ms/5)); }.bind(this)); } /** * Ouvrir * * @param {Object} callback */ Ax12.prototype.ouvrir = function(callback) { this.callCallback(callback, 1000); }; /** * Fermer * * @param {Object} callback */ Ax12.prototype.fermer = function(callback) { this.callCallback(callback, 1000); }; /** * Fermer Balle * * @param {Object} callback */ Ax12.prototype.fermerBalle = function(callback) { this.callCallback(callback, 800); }; /** * Fermer Balle 2 * * @param {Object} callback */ Ax12.prototype.fermerBalle2 = function(callback) { this.callCallback(callback, 900); }; return Ax12; })(); × Search results Close "},"clients_pr_ax12.class.js.html":{"id":"clients_pr_ax12.class.js.html","title":"Source: clients/pr/ax12.class.js","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Source: clients/pr/ax12.class.js /** * AX12 module * * @module clients/pr/ax12 * @see clients/pr/ax12.Ax12 */ module.exports = (function () { var log4js = require('log4js'); var logger = log4js.getLogger('pr.ax12'); var ffi = require('ffi'); var libusb2ax = ffi.Library('./libs/dynamixel/lib/libusb2ax', { 'dxl_initialize': ['int', ['int', 'int']], 'dxl_write_word': ['void', ['int', 'int', 'int']], 'dxl_read_word': ['int', ['int', 'int']], 'dxl_terminate': ['void', ['void']], 'dxl_get_result': ['int', ['void']] }); // Constants var AX12_COUPLE = 800; var P_GOAL_POSITION_L = 30; var P_POSITION = 36; var P_SPEED = 0x26; var P_COUPLE = 34; var MARGE_POS = 80; var MARGE_POS_MVT = 5; var ax12s = { '2':{ id: 2, obj: 0, pos: 0, arrived: false }, '3':{ id: 3, obj: 0, pos: 0, arrived: false } }; /** * Ax12 Constructor * * @exports clients/pr/ax12.Ax12 * @constructor * @param {string} sp Serial Port NAME * @param {Object} sendStatus * @param {clients/shared/fifo.Fifo} fifo */ function Ax12(sp, sendStatus, fifo) { /** @type {boolean} */ this.ready = false; /** @type {Object} */ this.sendStatus = sendStatus; /** @type {Object} */ this.orders_sent = []; /** @type {clients/shared/fifo.Fifo} */ this.fifo = fifo; this.connect(sp); } // ====== General actions ====== POS_OPENED = 40; POS_CLOSED = 10; POS_BALL_1 = 0; POS_BALL_2 = 0; /** * Connect * * @param {string} sp Serial Port NAME */ Ax12.prototype.connect = function(sp) { if(libusb2ax.dxl_initialize(sp.substring(&quot;/dev/ttyACM&quot;.length), 1) &lt;= 0) { logger.error(&quot;Impossible de se connecter à l'USB2AX&quot;); } else { logger.info(&quot;Connecté à l'USB2AX !&quot;); } this.ready = true; this.sendStatus(); /** @type {array&lt;Object&gt;} */ this.ax12s = {}; /** @type {Object} */ this.type_callback = null; libusb2ax.dxl_write_word(2, P_COUPLE, 400); libusb2ax.dxl_write_word(3, P_COUPLE, 400); this.ouvrir(); this.loopAX12(); }; /** * Disconnect * * @param {} x */ Ax12.prototype.disconnect = function(x) { this.ready = false; this.sendStatus(); }; /** * Loop AX12 */ Ax12.prototype.loopAX12 = function() { var speed; for(var i in ax12s) { // S'il n'est pas à la bonne position ax12s[i].pos = libusb2ax.dxl_read_word(ax12s[i].id, P_POSITION); speed = libusb2ax.dxl_read_word(ax12s[i].id, P_SPEED); if (!ax12s[i].started) { libusb2ax.dxl_write_word(ax12s[i].id, P_COUPLE, AX12_COUPLE); libusb2ax.dxl_write_word(ax12s[i].id, P_GOAL_POSITION_L, ax12s[i].obj); if (Math.abs(speed) &gt; MARGE_POS_MVT) { ax12s[i].started = true; } } else { speed = libusb2ax.dxl_read_word(ax12s[i].id, P_SPEED); if (Math.abs(speed) &lt; MARGE_POS_MVT) { ax12s[i].arrived = true; } } if(Math.abs(ax12s[i].pos - ax12s[i].obj) &lt; MARGE_POS) { ax12s[i].arrived = true; } } // logger.debug(ax12s['2'].pos + ' ; ' + ax12s['3'].pos); if(ax12s['2'].started &amp;&amp; ax12s['3'].started &amp;&amp; this.type_callback == &quot;ouvrir&quot; || ax12s['2'].arrived &amp;&amp; ax12s['3'].arrived &amp;&amp; this.type_callback) { this.type_callback = null; this.callback(); this.fifo.orderFinished(); } setTimeout(function() { this.loopAX12(); }.bind(this), 50); }; /** * Deg to AX12 * * @param {int} deg */ Ax12.prototype.degToAx12 = function(deg) { return parseInt((deg+150)*1024/300); }; /** * Ouvrir * * @param {Object} [callback] */ Ax12.prototype.ouvrir = function(callback) { if(callback === undefined) { callback = function(){}; } this.fifo.newOrder(function() { ax12s['2'].obj = this.degToAx12(0); ax12s['3'].obj = this.degToAx12(0); ax12s['2'].arrived = false; ax12s['2'].started = false; ax12s['3'].arrived = false; ax12s['3'].started = false; this.callback = callback; this.type_callback = 'ouvrir'; }.bind(this), 'AX12-Ouvrir'); }; /** * Fermer * * @param {Object} [callback] */ Ax12.prototype.fermer = function(callback) { if(callback === undefined) { callback = function(){}; } this.fifo.newOrder(function() { ax12s['2'].obj = this.degToAx12(-85); ax12s['3'].obj = this.degToAx12(85); // logger.debug(ax12s['2'].obj); ax12s['2'].arrived = false; ax12s['2'].started = false; ax12s['3'].arrived = false; ax12s['3'].started = false; this.callback = callback; this.type_callback = 'fermer'; }.bind(this), 'AX12-Fermer'); }; /** * Fermer balle * * @param {Object} [callback] */ Ax12.prototype.fermerBalle = function(callback) { if(callback === undefined) { callback = function(){}; } this.fifo.newOrder(function() { ax12s['2'].obj = this.degToAx12(-50); ax12s['3'].obj = this.degToAx12(50); // logger.debug(ax12s['2'].obj); ax12s['2'].arrived = false; ax12s['2'].started = false; ax12s['3'].arrived = false; ax12s['3'].started = false; this.callback = callback; this.type_callback = 'fermer'; }.bind(this), 'AX12-Fermer balle'); }; /** * Fermer balle 2 * * @param {Object} [callback] */ Ax12.prototype.fermerBalle2 = function(callback) { if(callback === undefined) { callback = function(){}; } this.fifo.newOrder(function() { ax12s['2'].obj = this.degToAx12(-75); ax12s['3'].obj = this.degToAx12(75); // logger.debug(ax12s['2'].obj); ax12s['2'].arrived = false; ax12s['2'].started = false; ax12s['3'].arrived = false; ax12s['3'].started = false; this.callback = callback; this.type_callback = 'fermer'; }.bind(this), 'AX12-Fermer balle 2'); }; return Ax12; })(); × Search results Close "},"clients_pr_detect.class.js.html":{"id":"clients_pr_detect.class.js.html","title":"Source: clients/pr/detect.class.js","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Source: clients/pr/detect.class.js /** * Detect module * * @module clients/pr/detect * @see {@link clients/pr/detect.Detect} */ module.exports = (function () { var log4js = require('log4js'); var logger = log4js.getLogger('pr.detect'); var serialPort = require(&quot;serialport&quot;); var SerialPort = serialPort.SerialPort; var sp = []; /** * Detect constructor * * @exports clients/pr/detect.Detect * @constructor * @param {Object} callback */ function Detect(callback) { /** @type {Object} */ this.devicesFound = { asserv: null, others: null, ax12: null }; /** @type {Object} */ this.callback = callback; this.searchArduinos(); } /** * Sends Server port */ Detect.prototype.sendSP = function (){ // Close opened ports &amp; detect other devices serialPort.list(function (err, ports) { for(var i in ports) { if(ports[i].comName.indexOf('ttyUSB') &gt;= 0) { this.devicesFound.asserv = ports[i].comName; } else if((ports[i].comName.indexOf('ttyACM') &gt;= 0) &amp;&amp; ports[i].comName != this.devicesFound.others) { // logger.debug(ports[i].comName); this.devicesFound.ax12 = ports[i].comName; } if(sp[i].readable){ logger.info(&quot;Closing &quot;+ports[i].comName); // this.devicesFound.ax12 = ports[i].comName; sp[i].close(); } } // Sent to acts this.callback(this.devicesFound); }.bind(this)); }; /** * Searches Arduino */ Detect.prototype.searchArduinos = function() { // On check tous les ports disponibles serialPort.list(function (err, ports) { var nb_found = 0; for(var i in ports) { sp[i] = new SerialPort(ports[i].comName, { baudrate: 57600 }); sp[i].on('open', function (i) { sp[i].write('O\\n'); }.bind(this, i)); sp[i].on(&quot;data&quot;, function (i, data) { data = data.toString(); console.log(ports[i].comName, data); if (data == 'O' &amp;&amp; !this.devicesFound.others){ // Stepper this.devicesFound.others = ports[i].comName; clearTimeout(timeout); this.sendSP(); } sp[i].close(); }.bind(this, i)); sp[i].on(&quot;error&quot;, function() {}); // Node JS Error if it doesn't exist (and if an &quot;error&quot; event is sent) } }.bind(this)); // On check tous les ports qui ne sont pas enregistrés timeout = setTimeout(function(){this.sendSP(); }.bind(this), 3000); }; return Detect; })(); × Search results Close "},"clients_pr_elevator.class.js.html":{"id":"clients_pr_elevator.class.js.html","title":"Source: clients/pr/elevator.class.js","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Source: clients/pr/elevator.class.js /** * Elevator module * * @module clients/pr/elevator * @see {@link clients/pr/elevator.Elevator} */ module.exports = (function () { var log4js = require('log4js'); var logger = log4js.getLogger('pr.elevator'); var serialPort = require(&quot;serialport&quot;); var SerialPort = serialPort.SerialPort; var ORDER_ACHIEVED = 'K'; // Like Ok var ORDER_UNKNOWN = 'U'; // Like Unknown var ELEV_MOVE_UP = 'u'; var ELEV_MOVE_DOWN = 'd'; var ELEV_RELEASE = 'r'; var ELEV_CHOUILLA = 'c'; /** * Elevator constructor * * @exports clients/pr/elevator.Elevator * @constructor * @param {Object} sp Serial Port OBJECT */ function Elevator(sp, sendStatus) { /** @type {Object} */ this.sp = sp; /** @type {boolean} */ this.ready = false; /** @type {Object} */ this.sendStatus = sendStatus; /** @type {string} */ this.pos = 'down'; /** @type {array&lt;Object&gt;} */ this.orders_sent = []; this.sp.on(&quot;data&quot;, function(data) { this.ready = true; this.sendStatus(); this.parseOrder(data.toString()); }.bind(this)); } /** * Fonctions for sending orders to the Arduino * * @param {string} order */ Elevator.prototype.sendOrder = function(order) { this.sp.write(order); this.orders_sent.push(order); }; /** * Disconnects */ Elevator.prototype.disconnect = function() { this.sp.close(); this.ready = false; this.sendStatus(); }; // ====== General actions ====== /** * Monter */ Elevator.prototype.monter = function() { this.sendOrder(ELEV_MOVE_UP); }; /** * Monter choilla */ Elevator.prototype.monterChouilla = function() { this.sendOrder(ELEV_CHOUILLA); }; /** * Descendre */ Elevator.prototype.descendre = function() { this.sendOrder(ELEV_MOVE_DOWN); this.lacher(); }; /** * Release */ Elevator.prototype.release = function() { this.sendOrder(ELEV_RELEASE); }; /** * Parse Order * * @param {string} order */ Elevator.prototype.parseOrder = function(order) { if(order == ORDER_ACHIEVED) { switch(this.orders_sent.shift()) { case ELEV_MOVE_UP: this.pos = 'up'; logger.info(&quot;Elevator is up&quot;); break; case ELEV_MOVE_DOWN: this.pos1 = 'down'; logger.info(&quot;Elevator is down&quot;); break; } } else if (order == ORDER_UNKNOWN) { oldest_order = this.orders_sent.shift(); logger.warn(&quot;Order sent unknown: &quot;+this.orders_sent.shift()); } else { logger.warn(&quot;Order received unknown: &quot;+order); } }; return Elevator; })(); × Search results Close "},"clients_pr_others.class.js.html":{"id":"clients_pr_others.class.js.html","title":"Source: clients/pr/others.class.js","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Source: clients/pr/others.class.js /** * Others module * * @module clients/pr/others * @see {@link clients/pr/others.Others} */ module.exports = (function () { var logger = require('log4js').getLogger('Others'); /** * Others Constructor * * @exports clients/pr/others.Others * @constructor * @param {Object} sp Server port * @param {Object} sendStatus * @param {clients/shared/fifo.Fifo} */ function Others(sp, sendStatus, fifo) { /** @type {Object} */ this.sp = sp; // this.client = client; /** @type {boolean} */ this.ready = true; logger.debug(sendStatus); /** @type {Object} */ this.sendStatus = sendStatus; /** @type {clients/shared/fifo.Fifo} */ this.fifo = fifo; this.sp.on(&quot;data&quot;, function(data){ if(this.ready === false){ this.ready = true; this.sendStatus(); } this.parseCommand(data.toString()); }.bind(this)); this.sp.on(&quot;error&quot;, function(data){ logger.debug(data.toString()); }); this.sp.on(&quot;close&quot;, function(){ this.ready = false; this.sendStatus(); logger.error(&quot;Serial port close&quot;); }.bind(this)); } /** * Parse command * * @param {string} data */ Others.prototype.parseCommand = function(data) { if(this.order_sent == data) { this.order_sent = ''; setTimeout(function() { this.callback(); this.fifo.orderFinished(); }.bind(this), this.callback_delay); } else { logger.warn(&quot;Arduino others unknown: &quot;+data+&quot; (order_sent : &quot;+this.order_sent+&quot;)&quot;); } }; /** * Send command * * @param {Object} [callback] * @param {string} cmd * @param {string} args * @param {int} callback_delay */ Others.prototype.sendCommand = function(callback, cmd, args, callback_delay){ if(callback === undefined) { callback = function(){}; } this.fifo.newOrder(function() { this.callback = callback; this.callback_delay = callback_delay; this.order_sent = cmd; //logger.debug([cmd].concat(args).join(&quot;;&quot;)); this.sp.write([cmd].concat(args).join(&quot;;&quot;)+&quot;\\n&quot;); }.bind(this), 'sendCommandOther('+cmd+':'+args+')'); }; /** * Fermer stabilisateur * * @param {Object} callback * @param {int} [time] */ Others.prototype.fermerStabilisateur = function(callback, time) { if (time === undefined) { time = 100; } this.sendCommand(callback, 'H', [100, 23], time); }; /** * Ouvrir stabilisateur moyen * * @param {Object} callback * @param {int} [time] */ Others.prototype.ouvrirStabilisateurMoyen = function(callback, time) { if (time === undefined) { time = 100; } this.sendCommand(callback, 'H', [90, 30], time); }; /** * Ouvrir stabilisateur grand * * @param {Object} callback * @param {int} [time] */ Others.prototype.ouvrirStabilisateurGrand = function(callback, time) { if (time === undefined) { time = 400; } this.sendCommand(callback, 'H', [40, 80], time); }; /** * Fermer bloqueur * * @param {Object} callback * @param {int} [time] */ Others.prototype.fermerBloqueur = function(callback, time) { if (time === undefined) { time = 200; } this.sendCommand(callback, 'M', [32, 68], time); }; /** * Ouvrir bloqueur moyen * * @param {Object} callback * @param {int} [time] */ Others.prototype.ouvrirBloqueurMoyen = function(callback, time) { if (time === undefined) { time = 200; } this.sendCommand(callback, 'M', [66, 29], time); }; /** * Ouvrir stabilisateur grand * * @param {Object} callback * @param {int} [time] */ Others.prototype.ouvrirBloqueurGrand = function(callback, time) { if (time === undefined) { time = 400; } this.sendCommand(callback, 'M', [106, 1], time); }; /** * Prendre gobelet * * @param {Object} callback * @param {int} [time] */ Others.prototype.prendreGobelet = function(callback, time) { if (time === undefined) { time = 200; } this.sendCommand(callback, 'G', [115], time); }; /** * Lacher gobelet * * @param {Object} callback * @param {int} [time] */ Others.prototype.lacherGobelet = function(callback, time) { if (time === undefined) { time = 200; } this.sendCommand(callback, 'G', [50], time); }; /** * Sortir Clap * * @param {Object} callback * @param {int} [time] */ Others.prototype.sortirClap = function(callback, time) { if (time === undefined) { time = 200; } this.sendCommand(callback, 'C', [130], time); }; /** * Ranger Clap * * @param {Object} callback * @param {int} [time] */ Others.prototype.rangerClap = function(callback, time) { if (time === undefined) { time = 100; } this.sendCommand(callback, 'C', [40], time); }; /** * Monter ascenseur * * @param {Object} callback * @param {int} [time] */ Others.prototype.monterAscenseur = function(callback, time) { if (time === undefined) { time = 0; } this.sendCommand(callback, 'S', [-250], time); }; /** * Monter un peu ascenseur * * @param {Object} callback * @param {int} [time] */ Others.prototype.monterUnPeuAscenseur = function(callback, time) { if (time === undefined) { time = 0; } this.sendCommand(callback, 'S', [-30], time); }; /** * Descendre un peu ascenseur * * @param {Object} callback * @param {int} [time] */ Others.prototype.descendreUnPeuAscenseur = function(callback, time) { if (time === undefined) { time = 0; } this.sendCommand(callback, 'S', [30], time); }; /** * Monter moyen ascenseur * * @param {Object} callback * @param {int} [time] */ Others.prototype.monterMoyenAscenseur = function(callback, time) { if (time === undefined) { time = 0; } this.sendCommand(callback, 'S', [-60], time); }; /** * Descendre un peu ascenseur * * @param {Object} callback * @param {int} [time] */ Others.prototype.descendreMoyenAscenseur = function(callback, time) { if (time === undefined) { time = 0; } this.sendCommand(callback, 'S', [60], time); }; /** * Relacher ascenseur * * @param {Object} callback * @param {int} [time] */ Others.prototype.relacherAscenseur = function(callback, time) { if (time === undefined) { time = 0; } this.sendCommand(callback, 'S', [0], time); }; /** * Descendre ascenseur * * @param {Object} callback * @param {int} [time] */ Others.prototype.descendreAscenseur = function(callback, time) { if (time === undefined) { time = 0; } this.sendCommand(function() { this.relacherAscenseur(callback); }.bind(this), 'S', [250], time); }; return Others; })(); × Search results Close "},"clients_pr_others.simu.class.js.html":{"id":"clients_pr_others.simu.class.js.html","title":"Source: clients/pr/others.simu.class.js","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Source: clients/pr/others.simu.class.js /** * Others Simulator module * * @module clients/pr/others-simu * @see {@link clients/pr/others-simu.Others} */ module.exports = (function () { var logger = require('log4js').getLogger('pr.others'); /** * Others constructor * * @exports clients/pr/others-simu.Others * @constructor * @param {clients/shared/fifo.Fifo} fifo */ function Others(fifo) { /** @type {clients/shared/fifo.Fifo} */ this.fifo = fifo; } /** * Disconnects (nothing ?) */ Others.prototype.disconnect = function(x) { }; /** * Call callback * * @param {Object} [callback] * @param {int} ms */ Others.prototype.callCallback = function(callback, ms) { if(callback === undefined) { callback = function(){}; } this.fifo.newOrder(function() { setTimeout(function() { callback(); this.fifo.orderFinished(); }.bind(this), parseInt(ms/5)); }.bind(this)); }; /** * Fermer stabilisateur * * @param {Object} callback */ Others.prototype.fermerStabilisateur = function(callback) { this.callCallback(callback, 200); }; /** * Ouvrir stabilisateur moyen * * @param {Object} callback */ Others.prototype.ouvrirStabilisateurMoyen = function(callback) { this.callCallback(callback, 200); }; /** * Ouvrir stabilisateur grand * * @param {Object} callback */ Others.prototype.ouvrirStabilisateurGrand = function(callback) { this.callCallback(callback, 200); }; /** * Fermer bloqueur * * @param {Object} callback */ Others.prototype.fermerBloqueur = function(callback) { this.callCallback(callback, 200); }; /** * Ouvrir bloqueur moyen * * @param {Object} callback */ Others.prototype.ouvrirBloqueurMoyen = function(callback) { this.callCallback(callback, 200); }; /** * Ouvrir bloqueur grand * * @param {Object} callback */ Others.prototype.ouvrirBloqueurGrand = function(callback) { this.callCallback(callback, 200); }; /** * Sortir clap * * @param {Object} callback */ Others.prototype.sortirClap = function(callback) { this.callCallback(callback, 200); }; /** * Ranger clap * * @param {Object} callback */ Others.prototype.rangerClap = function(callback) { this.callCallback(callback, 200); }; /** * Prendre Gobelet * * @param {Object} callback */ Others.prototype.prendreGobelet = function(callback) { this.callCallback(callback, 200); }; /** * Lacher Gobelet * * @param {Object} callback */ Others.prototype.lacherGobelet = function(callback) { this.callCallback(callback, 200); }; /** * Monter ascenseur * * @param {Object} callback */ Others.prototype.monterAscenseur = function(callback) { this.callCallback(callback, 1000); }; /** * Monter un peu ascenseur * * @param {Object} callback */ Others.prototype.monterUnPeuAscenseur = function(callback) { this.callCallback(callback, 300); }; /** * Descendre un peu ascenseur * * @param {Object} callback */ Others.prototype.descendreUnPeuAscenseur = function(callback) { this.callCallback(callback, 300); }; /** * Monter moyen ascenseur * * @param {Object} callback */ Others.prototype.monterMoyenAscenseur = function(callback) { this.callCallback(callback, 500); }; /** * Descendre moyen ascenseur * * @param {Object} callback */ Others.prototype.descendreMoyenAscenseur = function(callback) { this.callCallback(callback, 500); }; /** * Descendre ascenseur * * @param {Object} callback */ Others.prototype.descendreAscenseur = function(callback) { this.callCallback(callback, 1000); }; return Others; })(); × Search results Close "},"clients_shared_asserv.class.js.html":{"id":"clients_shared_asserv.class.js.html","title":"Source: clients/shared/asserv.class.js","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Source: clients/shared/asserv.class.js /** * Asserv module * * @module clients/shared/asserv * @requires module:clients/shared/defineParser * @see {@link clients/shared/asserv.Asserv} */ module.exports = (function () { var logger = require('log4js').getLogger('asserv'); var COMMANDS = require('./defineParser.js')('./arduino/asserv/protocol.h'); var DETECT_SERIAL_TIMEOUT = 100; //ms, -1 to disable // function Asserv(sp, client) { // this.client = client; // this.getPos(); // this.sp = sp; // this.pos = {}; // this.sentCommands = {}; // this.currentId = 0; // } /** * Asserv Constructor * * @exports clients/shared/asserv.Asserv * @constructor * @param {Object} sp * @param {Object} client * @param {Object} who * @param {Object} sendStatus * @param {clients/shared/asserv.Asserv} fifo */ function Asserv(sp, client, who, sendStatus, fifo) { /** @type {boolean} */ this.ready = true; /** @type {Object} */ this.sendStatus = sendStatus; /** @type {Object} */ this.sp = sp; /** @type {Object} */ this.client = client; /** @type {Object} */ this.pos = {}; /** @type {Object} */ this.who = who; /** @type {int} */ this.currentId = 0; /** @type {string} */ this.color = &quot;yellow&quot;; /** @type {clients/shared/asserv.Asserv} */ this.fifo = fifo; this.sp.on(&quot;data&quot;, function(data){ if(this.ready === false){ this.ready = true; this.sendStatus(); } this.parseCommand(data.toString()); }.bind(this)); this.sp.on(&quot;error&quot;, function(data){ this.ready = false; this.sendStatus(); logger.debug(&quot;error&quot;, data.toString()); }.bind(this)); this.sp.on(&quot;close&quot;, function(data){ this.ready = false; this.sendStatus(); logger.error(&quot;Serial port close&quot;); }.bind(this)); setTimeout(function() { this.getPos(); }.bind(this), 2000); } /** * Convert color x * * @param {int} x */ Asserv.prototype.convertColorX = function(x) { if(this.color == &quot;yellow&quot;) { return x; } else { return 3000-x; } } /** * Convert color y * * @param {int} y */ Asserv.prototype.convertColorY = function(y) { if(this.color == &quot;yellow&quot;) { return y; } else { return y; } } /** * Convert color Angle * * @param {int} a */ Asserv.prototype.convertColorA = function(a) { if(this.color == &quot;yellow&quot;) { return convertA(a); } else { return convertA(Math.PI - a); } } /** * Convert Angle * * @param {int} a */ function convertA(a) { return Math.atan2(Math.sin(a), Math.cos(a)); } /** * Set Angle * * @param {int} a */ Asserv.prototype.setA = function(a) { // logger.debug(a, convertA(a)); this.pos.a = convertA(a); } /** * Position ? * * @param {Object} pos */ Asserv.prototype.Pos = function(pos) { this.pos.x = pos.x; this.pos.y = pos.y; this.setA(pos.a); } /** * Sets Position * * @param {Object} pos * @param {Object} callback */ Asserv.prototype.setPos = function(pos, callback) { logger.debug(pos); if(pos.color !== undefined) this.color = pos.color; this.sendCommand(COMMANDS.SET_POS, [ parseInt(this.convertColorX(pos.x)), parseInt(this.convertColorY(pos.y)), myWriteFloat(this.convertColorA(pos.a)) ], false, callback); } /** * Gets Potition * * @param {Object} pos */ Asserv.prototype.getPos = function(pos) { this.client.send('ia', this.who+'.getpos'); } /** * Sends Position */ Asserv.prototype.sendPos = function() { this.client.send('ia', this.who+'.pos', this.pos); } /** * Set position calage * * @param {Object} pos * @param {Object} callback */ Asserv.prototype.setPosCalage = function(pos, callback) { this.sendCommand(COMMANDS.SET_POS, [ parseInt(this.convertColorX(pos.x)), parseInt(this.convertColorY(pos.y)), myWriteFloat(this.convertColorA(pos.a)) ], false, function() { callback(); this.fifo.orderFinished(); }.bind(this), true); } /** * Calage X * * @param {int} x * @param {int} a Angle * @param {Object} callback */ Asserv.prototype.calageX = function(x, a, callback) { if(callback === undefined) callback = function(){}; this.fifo.newOrder(function() { this.setPosCalage({x: x, y: this.pos.y, a: a}, callback); }.bind(this), 'calageX'); } /** * Calage Y * * @param {int} y * @param {int} a Angle * @param {Object} callback */ Asserv.prototype.calageY = function(y, a, callback) { if(callback === undefined) callback = function(){}; this.fifo.newOrder(function() { this.setPosCalage({x: this.pos.x, y: y, a: a}, callback, true); }.bind(this), 'calageY'); } // For float /** * My write float * * @param {float} f */ function myWriteFloat(f){ return Math.round(f*COMMANDS.FLOAT_PRECISION); } /** * My Parse float * * @param {float} f */ function myParseFloat(f){ return parseInt(f)/COMMANDS.FLOAT_PRECISION; } /** * Parse Command * * @param {string} data */ Asserv.prototype.parseCommand = function(data){ // logger.debug(data); var datas = data.split(';'); var cmd = datas.shift();//, id = datas.shift(); if(cmd == COMMANDS.AUTO_SEND &amp;&amp; datas.length &gt;= 4) { // periodic position update var lastFinishedId = parseInt(datas.shift()); // TODO this.Pos({ x: this.convertColorX(parseInt(datas.shift())), y: this.convertColorY(parseInt(datas.shift())), a: this.convertColorA(myParseFloat(datas.shift())) }); this.sendPos(); // logger.debug(lastFinishedId); if(this.currentId != lastFinishedId) { // logger.fatal('finish id', lastFinishedId); this.currentId = lastFinishedId; var use_fifo = this.use_fifo; this.use_fifo = true; this.callback(); if(use_fifo) this.fifo.orderFinished(); } } else if(cmd == this.order_sent) { this.order_sent = ''; // logger.debug('finish', datas.shift()); if(!this.wait_for_id) { var use_fifo = this.use_fifo; this.use_fifo = true; this.callback(); if(use_fifo) this.fifo.orderFinished(); } } else if (cmd == COMMANDS.JACK) { logger.info(&quot;JACK !&quot;); this.client.send(&quot;ia&quot;, &quot;ia.jack&quot;); } else { // logger.warn(datas); logger.warn(&quot;Command return from Arduino to unknown cmd=&quot;+cmd); } } /** * Sends Command * * @param {string} cmd * @param {string} args * @param {int} wait_for_id * @param {Object} [callback] * @param {boolean} no_fifo */ Asserv.prototype.sendCommand = function(cmd, args, wait_for_id, callback, no_fifo){ function nextOrder() { if(callback === undefined) callback = function(){}; this.callback = callback; args = args || []; this.order_sent = cmd; this.wait_for_id = wait_for_id; logger.debug([cmd,this.currentId+1].concat(args).join(&quot;;&quot;)+&quot;\\n&quot;); this.sp.write([cmd,this.currentId+1].concat(args).join(&quot;;&quot;)+&quot;\\n&quot;); } this.use_fifo = !no_fifo; if(this.use_fifo) { this.fifo.newOrder(nextOrder.bind(this), 'sendCommandAsserv('+cmd+':'+args+')'); } else { nextOrder.call(this); } } /** * Set Vitesse * * @param {int} v Speed * @param {float} r Rotation * @param {Object} callback */ Asserv.prototype.setVitesse = function(v, r, callback) { // logger.debug(myWriteFloat(r)); this.sendCommand(COMMANDS.SPDMAX, [ parseInt(v), myWriteFloat(r) ], false, callback); }; /** * Speed ? * * @param {int} l * @param {int} a Angle * @param {int} ms * @param {Object} callback */ Asserv.prototype.speed = function(l, a, ms, callback) { // logger.debug(myWriteFloat(r)); this.sendCommand(COMMANDS.SPD, [ parseInt(l), parseInt(a), parseInt(ms) ], true, callback); }; /** * Set Acceleration * * @param {int} acc * @param {Object} callback */ Asserv.prototype.setAcc = function(acc,callback) { // logger.debug(myWriteFloat(r)); this.sendCommand(COMMANDS.ACCMAX, [ parseInt(acc) ], false, callback); }; /** * Clean * * @param {Object} callback */ Asserv.prototype.clean = function(callback){ this.sendCommand(COMMANDS.CLEANG, false, callback); }; /** * Pulse Width Modulation * * @param {int} left * @param {int} right * @param {int} ms * @param {Object} callback */ Asserv.prototype.pwm = function(left, right, ms, callback) { this.sendCommand(COMMANDS.PWM, [ parseInt(left), parseInt(right), parseInt(ms) ], true, callback); }; /** * Go X Y * * @param {int} x * @param {int} y * @param {string} sens * @param {Object} callback * @param {boolean} no_fifo */ Asserv.prototype.goxy = function(x, y, sens, callback, no_fifo){ if(sens == &quot;avant&quot;) sens = 1; else if(sens == &quot;arriere&quot;) sens = -1; else sens = 0; this.sendCommand(COMMANDS.GOTO, [ parseInt(this.convertColorX(x)), parseInt(this.convertColorY(y)), sens ], true, callback, no_fifo); }; /** * Go Angle * * @param {int} a * @param {Object} callback * @param {boolean} no_fifo */ Asserv.prototype.goa = function(a, callback, no_fifo){ // this.clean(); this.sendCommand(COMMANDS.ROT, [ myWriteFloat(this.convertColorA(a)) ], true, callback, no_fifo); }; /** * Set P I D * @param {float} p * @param {float} i * @param {float} d * @param {Object} callback */ Asserv.prototype.setPid = function(p, i, d, callback){ // this.clean(); this.sendCommand(COMMANDS.PIDALL, [ myWriteFloat(p), myWriteFloat(i), myWriteFloat(d) ],false, callback); }; // Asserv.prototype.gotoPath = function(callback, path){ // this.clean(); // if(instanceof path !=== &quot;Array&quot;) path = path.path; // not sure about Path class right now // path.forEach(function(item)); // }; return Asserv; })(); /* module.exports = (function () { var logger = require('log4js').getLogger('asserv'); var COMMANDS = require('./defineParser.js')('./arduino/asserv/protocol.h'); var DETECT_SERIAL_TIMEOUT = 100; //ms, -1 to disable // function Asserv(sp, client) { // this.client = client; // this.getPos(); // this.sp = sp; // this.pos = {}; // this.sentCommands = {}; // this.currentId = 0; // } function Asserv(sp, client, who, sendStatus, fifo) { this.ready = true; this.sendStatus = sendStatus; this.sp = sp; this.client = client; this.pos = {}; this.who = who; this.currentId = 0; this.color = &quot;yellow&quot;; this.fifo = fifo; this.data_sent = {}; this.sp.on(&quot;data&quot;, function(data){ if(this.ready === false){ this.ready = true; this.sendStatus(); } this.parseCommand(data.toString()); }.bind(this)); this.sp.on(&quot;error&quot;, function(data){ this.ready = false; this.sendStatus(); logger.debug(&quot;error&quot;, data.toString()); }.bind(this)); this.sp.on(&quot;close&quot;, function(data){ this.ready = false; this.sendStatus(); logger.debug(data.toString()); }.bind(this)); setTimeout(function() { this.getPos(); }.bind(this), 2000); } Asserv.prototype.convertColorX = function(x) { if(this.color == &quot;yellow&quot;) { return x; } else { return 3000-x; } } Asserv.prototype.convertColorY = function(y) { if(this.color == &quot;yellow&quot;) { return y; } else { return y; } } Asserv.prototype.convertColorA = function(a) { if(this.color == &quot;yellow&quot;) { return convertA(a); } else { return convertA(Math.PI - a); } } function convertA(a) { return Math.atan2(Math.sin(a), Math.cos(a)); } Asserv.prototype.setA = function(a) { // logger.debug(a, convertA(a)); this.pos.a = convertA(a); } Asserv.prototype.Pos = function(pos) { this.pos.x = pos.x; this.pos.y = pos.y; this.setA(pos.a); } Asserv.prototype.setPos = function(pos, callback) { if(pos.color !== undefined) this.color = pos.color; this.sendCommand(COMMANDS.SET_POS, [ parseInt(this.convertColorX(pos.x)), parseInt(this.convertColorY(pos.y)), myWriteFloat(this.convertColorA(pos.a)) ], false, callback); } Asserv.prototype.getPos = function(pos) { this.client.send('ia', this.who+'.getpos'); } Asserv.prototype.sendPos = function() { this.client.send('ia', this.who+'.pos', this.pos); } Asserv.prototype.setPosCalage = function(pos, callback) { this.sendCommand(COMMANDS.SET_POS, [ parseInt(this.convertColorX(pos.x)), parseInt(this.convertColorY(pos.y)), myWriteFloat(this.convertColorA(pos.a)) ], false, function() { callback(); this.fifo.orderFinished(); }.bind(this), true); } Asserv.prototype.calageX = function(x, a, callback) { if(callback === undefined) callback = function(){}; this.fifo.newOrder(function() { this.setPosCalage({x: x, y: this.pos.y, a: a}, callback); }.bind(this), 'calageX'); } Asserv.prototype.calageY = function(y, a, callback) { if(callback === undefined) callback = function(){}; this.fifo.newOrder(function() { this.setPosCalage({x: this.pos.x, y: y, a: a}, callback, true); }.bind(this), 'calageY'); } // For float function myWriteFloat(f){ return Math.round(f*COMMANDS.FLOAT_PRECISION); } function myParseFloat(f){ return parseInt(f)/COMMANDS.FLOAT_PRECISION; } Asserv.prototype.parseCommand = function(data){ // logger.debug(data); var datas = data.split(';'); var cmd = datas.shift();//, id = datas.shift(); var id = parseInt(datas.shift()); if(cmd == COMMANDS.AUTO_SEND &amp;&amp; datas.length &gt;= 4) { // periodic position update this.Pos({ x: this.convertColorX(parseInt(datas.shift())), y: this.convertColorY(parseInt(datas.shift())), a: this.convertColorA(myParseFloat(datas.shift())) }); this.sendPos(); // logger.debug(lastFinishedId); if(this.data_sent[id] !== undefined) { // logger.fatal('finish id', lastFinishedId); // this.currentId = lastFinishedId; this.data_sent[id].callback(); if(this.data_sent[id].use_fifo) this.fifo.orderFinished(); // else // this.use_fifo = this.old_use_fifo; delete this.data_sent[id]; } } else if(this.data_sent[id] !== undefined &amp;&amp; this.data_sent[id].cmd == cmd) { // this.order_sent = ''; // logger.debug('finish', datas.shift()); if(!this.data_sent[id].wait_for_id) { this.data_sent[id].callback(); if(this.data_sent[id].use_fifo) this.fifo.orderFinished(); delete this.data_sent[id]; // else // this.use_fifo = this.old_use_fifo; } } else if (cmd == COMMANDS.JACK) { logger.info(&quot;JACK !&quot;); this.client.send(&quot;ia&quot;, &quot;ia.jack&quot;); } else { // logger.warn(datas); logger.warn(&quot;Command return from Arduino to unknown cmd=&quot;+cmd); } } Asserv.prototype.sendCommand = function(cmd, args, wait_for_id, callback, no_fifo){ if(callback === undefined) callback = function(){}; this.currentId += 1; var id = this.currentId.toString(); args = args || []; function nextOrder() { this.sp.write([cmd,id].concat(args).join(&quot;;&quot;)+&quot;\\n&quot;); } this.data_sent[id] = { callback: callback, cmd: cmd, wait_for_id: wait_for_id, use_fifo: !no_fifo }; if(!no_fifo) { this.fifo.newOrder(nextOrder.bind(this), 'sendCommandAsserv('+cmd+':'+args+')'); } else { nextOrder.call(this); } } Asserv.prototype.setVitesse = function(v, r, callback) { // logger.debug(myWriteFloat(r)); this.sendCommand(COMMANDS.SPDMAX, [ parseInt(v), myWriteFloat(r) ], false, callback); }; Asserv.prototype.speed = function(l, a, ms, callback) { // logger.debug(myWriteFloat(r)); this.sendCommand(COMMANDS.SPD, [ parseInt(l), parseInt(a), parseInt(ms) ], true, callback); }; Asserv.prototype.setAcc = function(acc,callback) { // logger.debug(myWriteFloat(r)); this.sendCommand(COMMANDS.ACCMAX, [ parseInt(acc) ], false, callback); }; Asserv.prototype.clean = function(callback){ this.sendCommand(COMMANDS.CLEANG, false, callback); }; Asserv.prototype.pwm = function(left, right, ms, callback) { this.sendCommand(COMMANDS.PWM, [ parseInt(left), parseInt(right), parseInt(ms) ], true, callback); }; Asserv.prototype.goxy = function(x, y, sens, callback, no_fifo){ if(sens == &quot;avant&quot;) sens = 1; else if(sens == &quot;arriere&quot;) sens = -1; else sens = 0; this.sendCommand(COMMANDS.GOTO, [ parseInt(this.convertColorX(x)), parseInt(this.convertColorY(y)), sens ], true, callback, no_fifo); }; Asserv.prototype.goa = function(a, callback, no_fifo){ // this.clean(); this.sendCommand(COMMANDS.ROT, [ myWriteFloat(this.convertColorA(a)) ], true, callback, no_fifo); }; Asserv.prototype.setPid = function(p, i, d, callback){ // this.clean(); this.sendCommand(COMMANDS.PIDALL, [ myWriteFloat(p), myWriteFloat(i), myWriteFloat(d) ],false, callback); }; // Asserv.prototype.gotoPath = function(callback, path){ // this.clean(); // if(instanceof path !=== &quot;Array&quot;) path = path.path; // not sure about Path class right now // path.forEach(function(item)); // }; return Asserv; })(); */ × Search results Close "},"clients_shared_asserv.simu.class.js.html":{"id":"clients_shared_asserv.simu.class.js.html","title":"Source: clients/shared/asserv.simu.class.js","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Source: clients/shared/asserv.simu.class.js /** * Asserv Simulator module * * @module clients/shared/asserv-simu * @see {@link clients/shared/asserv-simu.Asserv} */ module.exports = (function () { var logger = require('log4js').getLogger('asserv'); // For simu var SIMU_FACTOR_VIT = 1; var SIMU_FACTOR_A = 0.3; // Facteur // var SIMU_PWM_REF = 255; // à une PWM de 80 function SIMU_DIST(pwm, dt, vitesse) { return (vitesse*SIMU_FACTOR_VIT)*dt; } function SIMU_DIST_ROT(a) { return Math.abs(a)*100; } // Rayon aproximatif de 10cm function SIMU_ROT_TIME(a, vitesse) { return SIMU_DIST_ROT(a)/(vitesse*SIMU_FACTOR_VIT*SIMU_FACTOR_A); } var FPS = 30; var timeouts = []; /** * Asserv Constructor * * @exports clients/shared/asserv-simu.Asserv * @constructor * @param {Object} client * @param {Object} who * @param {clients/shared/asserv.Asserv} fifo */ function Asserv(client, who, fifo) { /** @type {Object} */ this.client = client; /** @type {Object} */ this.who = who; /** @type {Object} */ this.pos = { x:0,y:0,a:0 }; /** @type {clients/shared/asserv.Asserv} */ this.fifo = fifo; /** @type {int} */ this.vitesse = 800; this.getPos(); } /** * New Order * * @param {Object} callback * @param {int} ms * @param {boolean} no_fifo */ Asserv.prototype.newOrder = function(callback, ms, no_fifo, delay_order_finished){ if(callback === undefined) callback = function(){}; var use_fifo = !no_fifo; if(ms === undefined) ms = 0; if(delay_order_finished === undefined) delay_order_finished = 0; function nextOrder() { timeouts.push(setTimeout(function() { callback(); timeouts.push(setTimeout(function() { this.fifo.orderFinished(); }.bind(this), delay_order_finished)); }.bind(this), ms)); } if(use_fifo) { // logger.debug('use_fifo'); this.fifo.newOrder(nextOrder.bind(this)); } else { // logger.debug('no_fifo'); timeouts.push(setTimeout(callback, ms));//.call(this)); } } /** * Convert Angle * * @param {int} a Angle */ function convertA(a) { return Math.atan2(Math.sin(a), Math.cos(a)); } /** * Set Angle * * @param {int} a Angle */ Asserv.prototype.setA = function(a) { this.pos.a = convertA(a); } /** * Position ? * * @param {Object} pos */ Asserv.prototype.Pos = function(pos) { this.pos.x = pos.x; this.pos.y = pos.y; this.setA(pos.a); } /** * Sets Position * * @param {Object} pos * @param {Object} callback */ Asserv.prototype.setPos = function(pos, callback) { this.Pos(pos); this.sendPos(); if(callback !== undefined) callback(); } /** * Gets Position * * @param {Object} pos */ Asserv.prototype.getPos = function(pos) { this.client.send('ia', this.who+'.getpos'); } /** * Sends Position */ Asserv.prototype.sendPos = function() { this.client.send('ia', this.who+'.pos', this.pos); } /** * Clean */ Asserv.prototype.clean = function(){ logger.debug('cleaning %d timeouts', timeouts.length); while(timeouts.length &gt; 0) { clearTimeout(timeouts.shift()); } }; /** * Avancer plot * * @param {Object} callback */ Asserv.prototype.avancerPlot = function(callback) { this.newOrder(callback, 1200); } /** * Set vitesse * * @param {int} v Speed * @param {int} r rotation * @param {Object} callback */ Asserv.prototype.setVitesse = function(v, r, callback) { this.vitesse = parseInt(v); if(callback !== undefined) callback(); }; /** * Calage X * * @param {int} x * @param {int} a Angle * @param {Object} callback */ Asserv.prototype.calageX = function(x, a, callback) { this.setPos({x: x, y: this.pos.y, a: a}, callback); } /** * Calage Y * * @param {int} y * @param {int} a Angle * @param {Object} callback */ Asserv.prototype.calageY = function(y, a, callback) { this.setPos({x: this.pos.x, y: y, a: a}, callback); } /** * Simu Speed * * @param {int} vit Speed * @param {int} x * @param {int} y * @param {int} a Angle * @param {int} dt */ Asserv.prototype.simu_speed = function(vit, x, y, a, dt) { return function() { this.pos = { x: x + Math.cos(a) * vit*dt/1000, y: y + Math.sin(a) * vit*dt/1000, a: a } this.sendPos(); }.bind(this); } /** * Speed ? * * @param {int} l * @param {int} a Angle * @param {int} ms * @param {Object} callback */ Asserv.prototype.speed = function(l, a, ms,callback) { this.newOrder(function() { // this.simu.pwm(callback, l/3, l/3, ms); for(var t = 0; t &lt; ms; t += 1000/FPS) { timeouts.push(setTimeout(this.simu_speed(l, this.pos.x, this.pos.y, this.pos.a, t), t)); } timeouts.push(setTimeout(this.simu_speed(l, this.pos.x, this.pos.y, this.pos.a, ms), ms)); timeouts.push(setTimeout(callback, ms)); }.bind(this), 0, false, ms); }; /** * Simu Pulse Width Modulation * * @param {int} x * @param {int} y * @param {int} a Angle * @param {int} dt */ Asserv.prototype.simu_pwm = function(pwm, x, y, a, dt) { return function() { this.pos = { x: x + Math.cos(a) * SIMU_DIST(pwm, dt/1000, this.vitesse), y: y + Math.sin(a) * SIMU_DIST(pwm, dt/1000, this.vitesse), a: a } this.sendPos(); }.bind(this); } /** * Pulse Width Modulation * * @param {string} left * @param {string} right * @param {int} ms * @param {Object} callback */ Asserv.prototype.pwm = function(left, right, ms, callback) { this.newOrder(function() { var pwm = (left+right)/2; for(var t = 0; t &lt; ms; t += 1000/FPS) { timeouts.push(setTimeout(this.simu_pwm(pwm, this.pos.x, this.pos.y, this.pos.a, t), t)); } timeouts.push(setTimeout(this.simu_pwm(pwm, this.pos.x, this.pos.y, this.pos.a, ms), ms)); timeouts.push(setTimeout(callback, ms)); }.bind(this), 0, false, ms); }; /** * Simu Go X Y * * @param {int} x * @param {int} y */ Asserv.prototype.simu_goxy = function(x, y) { return function() { this.pos.x = x; this.pos.y = y; this.sendPos(); }.bind(this); } /** * Go X Y * * @param {int} x * @param {int} y * @param {string} sens * @param {Object} callback * @param {boolean} no_fifo */ Asserv.prototype.goxy = function(x, y, sens, callback, no_fifo) { var dx = x-this.pos.x; var dy = y-this.pos.y; var dist = Math.sqrt(Math.pow(dx,2) + Math.pow(dy,2)); var tf = (dist / (this.vitesse*SIMU_FACTOR_VIT))*1000; // *1000 s-&gt;ms angle_avant = convertA(Math.atan2(dy,dx)-this.pos.a); angle_arriere = convertA(angle_avant+Math.PI); if(sens == &quot;avant&quot;) angle_depart = angle_avant else if(sens == &quot;arriere&quot;) angle_depart = angle_arriere; else if (Math.abs(angle_avant) &lt; Math.abs(angle_arriere)) angle_depart = angle_avant; else angle_depart = angle_arriere; // logger.debug(&quot;dx: &quot;, dx); // logger.debug(&quot;dy: &quot;, dy); // logger.debug(&quot;angle: &quot;, this.pos.a); // logger.debug(&quot;angle avant: &quot;, angle_avant); // logger.debug(&quot;angle arriere: &quot;, angle_arriere); // logger.debug(&quot;angle depart: &quot;, angle_depart); this.goa(angle_depart+this.pos.a, function() { this.newOrder(function() { for(var t = 0; t &lt; tf; t += 1000/FPS) { timeouts.push(setTimeout(this.simu_goxy(this.pos.x+dx*t/tf, this.pos.y+dy*t/tf), t)); } timeouts.push(setTimeout(this.simu_goxy(x, y), tf)); timeouts.push(setTimeout(callback, tf)); }.bind(this), 0, no_fifo, tf); }.bind(this), no_fifo); }; /** * Simu Go Angle * * @param {int} a Angle */ Asserv.prototype.simu_goa = function(a) { return function() { this.setA(a); this.sendPos(); }.bind(this); } /** * Simu Go Angle * * @param {int} a Angle * @param {Object} callback * @param {boolean} no_fifo */ Asserv.prototype.goa = function(a, callback, no_fifo){ a = convertA(a); da = convertA(a-this.pos.a); // logger.debug(&quot;depart:&quot;, this.pos.a); // logger.debug(&quot;arrivee:&quot;, a); // logger.debug(&quot;delta:&quot;, da); var tf = SIMU_ROT_TIME(da, this.vitesse)*1000; // *1000 s-&gt;ms this.newOrder(function() { for(var t = 0; t &lt; tf; t += 1000/FPS) { // logger.debug(this.pos.a+da*t/tf); timeouts.push(setTimeout(this.simu_goa(this.pos.a+da*t/tf), t)); } timeouts.push(setTimeout(this.simu_goa(a), tf)); timeouts.push(setTimeout(callback, tf)); }.bind(this), 0, no_fifo, tf); }; /** * Set P I D * * @param {int} p * @param {int} i * @param {int} d * @param {Object} callback */ Asserv.prototype.setPid = function(p, i, d, callback){ this.newOrder(callback); }; return Asserv; })(); × Search results Close "},"clients_shared_fifo.class.js.html":{"id":"clients_shared_fifo.class.js.html","title":"Source: clients/shared/fifo.class.js","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Source: clients/shared/fifo.class.js /** * First In First Out module * * @module clients/shared/fifo * @see {@link clients/shared/fifo.Fifo} */ module.exports = (function () { var logger = require('log4js').getLogger('Fifo'); /** * Fifo Constructor * * @exports clients/shared/fifo.Fifo * @constructor */ function Fifo() { this.clean(); } /** * Clean */ Fifo.prototype.clean = function(callback) { /** fifo */ this.fifo = []; /** @type {boolean} */ this.order_in_progress = false; } /** * Order finished */ Fifo.prototype.orderFinished = function() { this.order_in_progress = false; this.nextOrder(); } /** * New Order * * @param {Object} callback * @param {string} [name] */ Fifo.prototype.newOrder = function(callback, name) { if (name === undefined) name = &quot;&quot;; this.fifo.push({callback: callback, name: name}); this.nextOrder(); } /** * Next Order */ Fifo.prototype.nextOrder = function() { if(!this.order_in_progress &amp;&amp; this.fifo.length &gt; 0) { // logger.debug(this.fifo.length); this.order_in_progress = true; object = this.fifo.shift(); // logger.debug(&quot;Calling : &quot;+object.name); object.callback(); } } return Fifo; })(); × Search results Close "},"ia_actions.class.js.html":{"id":"ia_actions.class.js.html","title":"Source: ia/actions.class.js","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Source: ia/actions.class.js /** * Actions Module * * @module ia/actions * @requires log4js * @see {@link ia/actions.Actions} */ module.exports = (function () { &quot;use strict&quot;; var log4js = require('log4js'); var logger = log4js.getLogger('ia.actions'); /** * Actions Constructor * * @exports ia/actions.Actions * @constructor * @param ia */ function Actions(ia) { /** IA */ this.ia = ia; /** Team color */ this.color = ia.color; /** done */ this.done = {}; /** Tasks to do*/ this.todo = {}; /** Tasks in progress */ this.inprogress = null; /** killed */ this.killed = {}; /** Valid id do action */ this.valid_id_do_action = -1; this.todo = this.importActions(ia.data); } var __dist_startpoints_plot = 120; var __nb_startpoints_plot = 16; /** * Convert Angle * * @param {int} a Angle */ function convertA(a) { return Math.atan2(Math.sin(a), Math.cos(a)); } /** * Collision */ Actions.prototype.collision = function() { if(this.inprogress !== null) { // !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! // !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! // !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! // Décommenter la ligne, juste pour tester // !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! // !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! // !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! this.todo[this.inprogress.name] = this.inprogress; this.inprogress = null; } } /** * Import Actions from data * * @param {Object} data */ Actions.prototype.importActions = function (data) { var req; try { req = require('./actions.json'); } catch(err) { logger.fatal(&quot;Erreur lors de l'importation des actions dans l'IA: &quot;+err); } var actions = req.actions; // Link &quot;object&quot; with exiting thing in the Data class Object.keys(actions).forEach(function(i) { actions[i].object = data.getObjectRef(actions[i].objectname); actions[i].name = i; if ((actions[i].object !== null) &amp;&amp; (actions[i].type == &quot;plot&quot;) &amp;&amp; (actions[i].startpoints.length === 0)) { actions[i].startpoints.push({ x: actions[i].object.pos.x, y: actions[i].object.pos.y }); // var temp; // for(var j = 0; j &lt; __nb_startpoints_plot; j++) { // temp = j*2*Math.PI/__nb_startpoints_plot; // actions[i].startpoints.push({ // x: actions[i].object.pos.x + __dist_startpoints_plot * Math.cos(temp), // y: actions[i].object.pos.y + __dist_startpoints_plot * Math.sin(temp), // a: convertA(temp+Math.PI) // }); // } } else if((actions[i].object !== null) &amp;&amp; (actions[i].type == &quot;clap&quot;)) { if(this.color != &quot;yellow&quot;) { var a = actions[i].startpoints[0].a; actions[i].startpoints[0].a = (a &lt; 0) ? -Math.PI - a : Math.PI - a; } } }.bind(this)); return actions; }; /** * Parse Order * * @param {string} from Sender * @param {string} name Name of the action * @param {Object} params Parameters of the action */ Actions.prototype.parseOrder = function (from, name, params) { switch(name) { case 'actions.action_finished': // logger.debug('received action_finished'); this.actionFinished(); break; case 'actions.path_finished': logger.debug('received path_finished'); this.ia.pr.path = []; break; default: logger.warn('Ordre inconnu dans ia.gr: '+name); } }; /** * Kill an action * * @param {string} action_name */ Actions.prototype.kill = function (action_name){ // If action doesn't exist if (!!action_name &amp;&amp; this.exists(action_name)){ this.done[action_name] = this.todo[action_name]; delete this.todo[action_name]; } }; /** * Return true if the action exists * * @param {string} action_name */ Actions.prototype.exists = function (action_name){ if (!this.todo[action_name]){ if (!this.killed[action_name] &amp;&amp; !this.done[action_name] &amp;&amp; !this.done[action_name]) logger.warn(&quot;Action named '&quot;+ action_name +&quot;' doesn't exist&quot;); else logger.warn(&quot;Action named '&quot;+ action_name +&quot;' already killed in progress or done !&quot;); return false; } else { return true; } }; /** * Return true if the action is done * * @param {string} action_name */ Actions.prototype.isDone = function (action_name){ return !action_name || this.done.hasOwnProperty(action_name); }; /** * Return the distance between two points * * @param {Object} A * @param {int} A.x * @param {int} A.y * @param {Object} B.x * @param {object} B.y */ function norm2Points(A, B) { return Math.sqrt(Math.pow(A.x-B.x, 2) + Math.pow(A.y-B.y, 2)); } /** * Return the distance between a position and the position of the current action * * @param {Object} pos * @param {int} pos.x * @param {int} pos.y * @param {string} an Action name */ Actions.prototype.getNormAction = function(pos, an) { return norm2Points(pos, this.todo[an].object.pos); }; /** * Get priority Action * * @param {string} an Action name */ Actions.prototype.getPriorityAction = function(an) { return this.todo[an].object.status == &quot;lost&quot; ? -1000 : this.todo[an].priority; }; /** * Return true id is doable * * @param {Object} action */ Actions.prototype.isDoable = function(action) { // Verifies some things about the action if (!!action.dependency &amp;&amp; !this.isDone(action.dependency)){ // Depends on an action, but it hasn't already been done return false; } if (action.dependencyRobotContent !== undefined){ // Depends on the robot content if ((action.dependencyRobotContent.gobelet !== undefined) &amp;&amp; (this.ia.pr.content.gobelet !== action.dependencyRobotContent.gobelet)){ // The cup holder position isn't consistent with needed state return false; } // If there's a constraint about the current number of cylinders if ((action.dependencyRobotContent.invPlot !== undefined) &amp;&amp; (this.ia.pr.content.nb_plots &lt; action.dependencyRobotContent.invPlot)){ return false; } if ((action.dependencyRobotContent.subPlot !== undefined) &amp;&amp; (this.ia.pr.content.nb_plots &gt; action.dependencyRobotContent.subPlot)){ return false; } } // if (action.object.status == &quot;lost&quot;){ // return false; // } return true; }; /** * Do next Action * * @param callback */ Actions.prototype.doNextAction = function(callback) { this.valid_id_do_action++; var actions_todo = []; // Get les actions possibles Object.getOwnPropertyNames(this.todo).forEach(function(an) { //an = action name if(this.isDoable(this.todo[an])) { actions_todo.push(an); } }, this); // Tri par priorité puis par norme var pos = this.ia.pr.pos; actions_todo.sort(function(a, b) { return (this.getPriorityAction(b) - this.getPriorityAction(a)) || (this.getNormAction(pos, a) - this.getNormAction(pos, b)); }.bind(this)); for(var i in actions_todo) { logger.debug('[%d] %s (%d)', this.todo[actions_todo[i]].priority, actions_todo[i], this.getNormAction(pos, actions_todo[i])); } // Va choisir l'action la plus proche, demander le path et faire doAction this.pathDoAction(callback, actions_todo, this.valid_id_do_action); }; /** * Return nearest Startpoint * * @param {Object} pos * @param {int} pos.x * @param {int} pos.y * @param {Object} startpoints */ Actions.prototype.getNearestStartpoint = function(pos, startpoints) { var min_dist = Infinity; var nearest = null; for (var i = 0; i &lt; startpoints.length; i++) { var dist = norm2Points(pos, startpoints[i]); if (dist &lt; min_dist){ min_dist = dist; nearest = startpoints[i]; } } return nearest; }; /** * Find the path to the action * * @param callback * @param {Object} actions * @param {int} id */ Actions.prototype.pathDoAction = function(callback, actions, id) { if(id != this.valid_id_do_action) { logger.Debug('id different'); return; } // Va choisir l'action la plus proche, demander le path et faire doAction if(actions.length &gt; 0) { var action = this.todo[actions.shift()]; var startpoint = this.getNearestStartpoint(this.ia.pr.pos, action.startpoints); this.ia.pathfinding.getPath(this.ia.pr.pos, startpoint, function(path) { if(path !== null) { this.ia.pr.path = path; this.doAction(callback, action, startpoint, id); } else { logger.debug(&quot;path not found&quot;); // Si le pathfinding foire, on fait la deuxième action la plus importante this.pathDoAction(callback, actions, id); } }.bind(this)); } else { logger.debug(&quot;all paths not found&quot;); setTimeout(function() { this.doNextAction(callback); }.bind(this), 500); } }; /** * Do Action * * @param callback * @param {Object} action * @param {Object} startpoint * @param {int} startpoint.x * @param {int} startpoint.y * @param {int} id */ Actions.prototype.doAction = function (callback, action, startpoint, id) { if(id != this.valid_id_do_action) return; this.callback = callback; // // Change action to state &quot;in progress&quot; this.inprogress = action; delete this.todo[action.name]; logger.debug('Action en cours %s (%d;%d;%d)', action.name, startpoint.x, startpoint.y, startpoint.a); this.ia.pr.path.map(function(checkpoint) { this.ia.client.send('pr', &quot;goxy&quot;, { x: checkpoint.x, y: checkpoint.y, sens: action.sens }); }, this); if(!!startpoint.a) { this.ia.client.send('pr', &quot;goa&quot;, { a: startpoint.a }); } this.ia.client.send('pr', &quot;send_message&quot;, { name: &quot;actions.path_finished&quot; }); // 1 order for 1 action // action.orders.forEach(function (order, index, array){ this.ia.client.send('pr', action.orders[0].name, action.orders[0].params); // }.bind(this)); this.ia.client.send('pr', &quot;send_message&quot;, { name: &quot;actions.action_finished&quot; }); // // Set object to &quot;done&quot; ! XXX // // Change action and its &quot;to be killed&quot; actions to state done // console.log(this.todo); // console.log(this.inprogress); // console.log(this.done); }; /** * Action Finished */ Actions.prototype.actionFinished = function () { if(this.inprogress !== null) { this.done[this.inprogress.name] = this.inprogress; logger.info('Action %s est finie !', this.inprogress.name); this.inprogress = null; var temp = this.callback; this.callback = function() {logger.warn('callback vide'); }; temp(); } }; return Actions; })(); × Search results Close "},"ia_data.class.js.html":{"id":"ia_data.class.js.html","title":"Source: ia/data.class.js","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Source: ia/data.class.js /** * Data Module * * @module ia/data * @requires log4js * @see {@link ia/data.Data} */ module.exports = (function () { &quot;use strict&quot;; var log4js = require('log4js'); var logger = log4js.getLogger('ia.data'); /** * Data Constructor * * @exports ia/data.Data * @constructor * @param {Object} ia * @param {int} nb_erobots Number of robots in a team * @param EGR_d * @param EPR_d */ function Data(ia, nb_erobots, EGR_d, EPR_d) { /** balle */ this.balle = []; /** chargeur */ this.chargeur = []; /** clap */ this.clap = []; /** plot */ this.plot = []; /** erobot */ this.erobot = []; /** gobelet */ this.gobelet = []; /** pile */ this.pile = {}; /** dynamic */ this.dynamic = []; //used for laid stacks /** depot */ this.depot = []; /** nb_erobot */ this.nb_erobots = nb_erobots; /** dots */ this.dots = []; this.importObjects(); this.erobot = [{ // big robot on position 0 name: &quot;gr&quot;, pos:{ x:3200, y:1000 }, speed:{ // in mm/sec x:0, y:0, }, lastUpdate: 0, // time in ms from the beining of the match d: EGR_d || 320, status: &quot;lost&quot; },{ // small robot on position 1 name: &quot;pr&quot;, pos:{ x:3500, y:1000 }, speed:{ x:0, y:0 }, lastUpdate: 0, d: EPR_d || 200, status: &quot;lost&quot; }]; } /** * Import the Objects */ Data.prototype.importObjects = function () { var ret = require('./objects.json'); this.balle = ret.balle; this.chargeur = ret.chargeur; this.clap = ret.clap; this.plot = ret.plot; this.gobelet = ret.gobelet; this.pile = ret.pile; this.depot = ret.depot; return ret; }; /** * Return Object Reference * * @param {string} name */ Data.prototype.getObjectRef = function(name) { // Retourne une référence vers l'objet name // name étant de la forme &lt;type&gt;__&lt;nom&gt; // Permet d'avoir une référence vers l'objet dans une action var actName = name.split(&quot;__&quot;); if (actName.length != 2){ logger.warn(&quot;Le nom '&quot;+name+&quot;' n'est pas un nom d'objet correct.&quot;); return null; } if (!this[actName[0]][actName[1]]){ logger.warn(&quot;L'objet &quot;+actName[0]+&quot; de type &quot;+actName[1]+&quot; est inconnu.&quot;); return null; } return this[actName[0]][actName[1]]; }; /** * Returns true if dist1 is smaller than dist2 * * @param {int} dist1 * @param {int} dist2 */ Data.prototype.isCloser = function (dist1, dist2){ return (dist1 &lt; dist2); }; /** * Return the distance between two positions * * @param {Object} pos1 * @param {int} pos1.x * @param {int} pos1.y * @param {Object} pos2 * @param {int} pos2.x * @param {int} pos2.y */ Data.prototype.getDistance = function (pos1, pos2){ return Math.sqrt(Math.pow(pos1.x - pos2.x, 2) + Math.pow(pos1.y - pos2.y, 2)); }; /** * Takes a position and the ennemy robot # to put everything in its surroundings (~ 1.1 * radius) as &quot;lost&quot; * * @param {Object} pos * @param {int} e_robot_id */ Data.prototype.theEnnemyWentThere = function (pos, e_robot_id){ Object.keys(this.plot).forEach(function(c) { if ((this.getDistance(pos, this.plot[c].pos) &lt; 0.55*this.erobot[e_robot_id].d) &amp;&amp; (this.plot[c].status != &quot;lost&quot;)) { logger.info(&quot;Le plot &quot; + c + &quot; est marqué lost&quot;); this.plot[c].status = &quot;lost&quot;; } }.bind(this)); var min_dist = Infinity; Object.keys(this.gobelet).forEach(function(g) { if ((this.getDistance(pos, this.gobelet[g].pos) &lt; 0.55*this.erobot[e_robot_id].d) &amp;&amp; (this.gobelet[g].status != &quot;lost&quot;)) { logger.info(&quot;Le gobelet&quot; + g + &quot; est marqué lost&quot;); this.gobelet[g].status = &quot;lost&quot;; } }.bind(this)); }; /** * Parse Order * * @param {string} from * @param {string} name * @param {Object} param */ Data.prototype.parseOrder = function(from, name, param){ switch(name){ case &quot;data.add_dynamic&quot; : if(!!param.pos &amp;&amp; !!param.pos.x &amp;&amp; !!param.pos.y &amp;&amp; !!param.d){ this.dynamic.push(param); logger.info(&quot;added dynamic from :&quot;+from+&quot; params:&quot;+JSON.stringify(param)); }else{ logger.error(&quot;invalid dynamic from :&quot;+from+&quot; params:&quot;+JSON.stringify(param)); } break; default: logger.error(&quot;Unknown order name:&quot;+name+&quot; from:&quot;+from); } }; var data = new Data(); return Data; })(); × Search results Close "},"ia_export_simulator.class.js.html":{"id":"ia_export_simulator.class.js.html","title":"Source: ia/export_simulator.class.js","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Source: ia/export_simulator.class.js /** * Export simulator Module * * @module ia/export_simulator * @requires log4js * @see {@link ia/export_simulator.ExportSimulator} */ module.exports = (function () { &quot;use strict&quot;; var log4js = require('log4js'); var logger = log4js.getLogger('ia.export_simulator'); var __timeout = null; var FPS = 30; /** Color of the team */ var color; /** * ExportSimulator Constructor * * @exports ia/export_simulator.ExportSimulator * @constructor * @param ia */ function ExportSimulator(ia) { /** IA */ this.ia = ia; this.start(); color = this.ia.color; } /** * Convert x, depends on the team color * * @param {int} x */ function convertX(x) { if(color == &quot;yellow&quot;) { return (x-1500)/1000; } else { return (1500-x)/1000; } } /** * Convert y * * @param {int} y */ function convertY(y) { return (1000-y)/1000; } /** * Convert Angle, depends on the team color * * @param {int} a Angle */ function convertA(a) { if(color == &quot;yellow&quot;) { return a; } else { return (a &lt; 0) ? -Math.PI - a : Math.PI - a; } } /** * Start */ ExportSimulator.prototype.start = function() { this.orderToSimu(); } /** * Stop */ ExportSimulator.prototype.stop = function() { clearTimeout(__timeout); } /** * Order to Simulator */ ExportSimulator.prototype.orderToSimu = function() { var data = {}; data.robots = { gr: { x: convertX(this.ia.gr.pos.x), y: convertY(this.ia.gr.pos.y), a: convertA(this.ia.gr.pos.a) }, pr: { x: convertX(this.ia.pr.pos.x), y: convertY(this.ia.pr.pos.y), a: convertA(this.ia.pr.pos.a), path: [this.ia.pr.pos].concat(this.ia.pr.path).map(function(pos){ return [convertX(pos.x), convertY(pos.y)]; }) }, egr: { x: convertX(this.ia.data.erobot[0].pos.x), y: convertY(this.ia.data.erobot[0].pos.y), }, epr: { x: convertX(this.ia.data.erobot[1].pos.x), y: convertY(this.ia.data.erobot[1].pos.y) } }; data.dynamic = this.ia.data.dynamic.map(function(o){ return [convertX(o.pos.x), convertY(o.pos.y)]; }); // logger.debug(data.robots.egr); this.ia.client.send(&quot;webclient&quot;, &quot;simulateur&quot;, data); __timeout = setTimeout(function(){this.orderToSimu()}.bind(this), 1000/FPS); } return ExportSimulator; })(); × Search results Close "},"ia_gr.class.js.html":{"id":"ia_gr.class.js.html","title":"Source: ia/gr.class.js","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Source: ia/gr.class.js /** * Grand Robot Module * * @module ia/gr * @requires log4js * @see {@link ia/gr.Gr} */ module.exports = (function () { &quot;use strict&quot;; var log4js = require('log4js'); var logger = log4js.getLogger('ia.gr'); /** * Gr Constructor * * @exports ia/gr.Gr * @constructor * @param {Object} ia * @param {string} color */ function Gr(ia, color) { /** IA */ this.ia = ia; /** Position */ this.pos = require('./gr.'+color+'.json')['pos']; this.pos.color = color; /** Size of the robot */ this.size = { l: 290, L: 290, d: 420 }; /** Orders */ this.orders = require('./gr.'+color+'.json')['script']; // logger.debug(this.orders); /** Path */ this.path = null; } /** * Start */ Gr.prototype.start = function () { this.sendOrders(); }; /** * Stop */ Gr.prototype.stop = function() { logger.debug('stop GR'); this.ia.client.send('gr', 'stop'); } /** * Send position */ Gr.prototype.sendPos = function () { this.ia.client.send(&quot;gr&quot;, &quot;setpos&quot;, this.pos); }; /** * Parse Order * * @param {string} from * @param {string} name * @param {Object} params */ Gr.prototype.parseOrder = function (from, name, params) { switch(name) { case 'gr.pos': this.pos.x = params.x; this.pos.y = params.y; this.pos.a = params.a; break; case 'gr.getpos': this.sendPos(); break; default: logger.warn('Ordre inconnu dans ia.gr: '+name); } }; /** * Send Orders */ Gr.prototype.sendOrders = function () { for(var i in this.orders) { this.ia.client.send(&quot;gr&quot;, this.orders[i].name, this.orders[i].data); } }; /** * On Collision : TODO send order STOP */ Gr.prototype.onCollision = function () { logger.warn(&quot;Collision du gros robot&quot;); // TODO send order STOP }; return Gr; })(); × Search results Close "},"ia_hokuyo.class.js.html":{"id":"ia_hokuyo.class.js.html","title":"Source: ia/hokuyo.class.js","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Source: ia/hokuyo.class.js /** * Hokuyo module * * @module ia/hokuyo * @requires log4js * @see ia/hokuyo.Hokuyo */ module.exports = (function () { &quot;use strict&quot;; var log4js = require('log4js'); // var gaussian = require('gaussian'); var logger = log4js.getLogger('ia.hokuyo'); var GR_OFFSET = 110; // (mm) distance between our robot origin and the robot's center var PR_GR_COEF = 1; // security coeff to bind our robots with the dots var SEGMENT_DELTA_D = 30; // (mm) between 2 iterations on a segment to detect colision var DELTA_T = 500; // (ms) in the future : estimation of ennemy robots var DEBUG = false; // mettre à true LE TEMPS DU DEBUG !!!!! var LOST_TIMEOUT = 10; var SECURITY_COEF = 1.1; var MAX_SPD = 1; var timeout; /** * Hokuyo Constructor * * @exports ia/hokuyo.Hokuyo * @constructor * @param {Object} ia IA * @param {Object} [params] Parameters */ function Hokuyo(ia, params) { /** Parameters */ this.params = params || {}; /** Number of hokuyo */ this.nb_hokuyo = 0; /** IA */ this.ia = ia; /** Dernier timestamp où on a update (changé à la fin de l'update) */ this.lastNow = 0; /** Match Started */ this.matchStarted = false; /** nb d'itération depuis laquelle on a perdu un robot */ this.nb_lost = 0; } /** * Starts the hokuyo */ Hokuyo.prototype.start = function () { this.matchStarted = true; logger.info(&quot;La classe hokuyo attend...&quot;); this.ia.client.send(&quot;hokuyo&quot;, &quot;start&quot;, {color:this.params.color}); timeout = setTimeout(function() {this.timedOut(); }.bind(this) , LOST_TIMEOUT*1000); }; /** * Stops the Hokuyo */ Hokuyo.prototype.stop = function () { this.matchStarted = false; this.ia.client.send(&quot;hokuyo&quot;, &quot;stop&quot;, {}); clearTimeout(timeout); }; /** * Timed out */ Hokuyo.prototype.timedOut = function() { this.mayday(&quot;Hokuyo timed out&quot;); }; /** * Return the distance between two points * * @param {Object} spot1 * @param {int} spot1.x * @param {int} spot1.y * @param {Object} spot2 * @param {int} spot2.x * @param {int} spot2.y */ Hokuyo.prototype.getDistance = function (spot1, spot2) { return Math.sqrt(Math.pow(spot1.x - spot2.x, 2) + Math.pow(spot1.y - spot2.y, 2)); }; /** * Return true if the position is on the stair * * @param {Object} spot * @param {int} spot.x * @param {int} spot.y */ Hokuyo.prototype.isOnTheStairs = function (spot){ return (spot.x&gt;967) &amp;&amp; (spot.x &lt; 2033) &amp;&amp; (spot.y &gt; 2000-580); }; /** * Return Matching coefficient * * @param {Object} spot * @param {int} spot.x * @param {int} spot.y * @param {Object} eRobot * @param {int} dt * @param status */ Hokuyo.prototype.getMatchingCoef = function (spot, eRobot, dt, status){ var estimatedPos = { x: eRobot.pos.x + eRobot.speed.x*dt, y: eRobot.pos.y + eRobot.speed.y*dt }; // var distribution = gaussian(0,eRobot.d); var distance = this.getDistance(spot, estimatedPos); // logger.debug(distance); // return 10*distribution.pdf(distance/10); return distance; }; /** * Remove our robot from the detected points * * @param {Object} dots */ Hokuyo.prototype.deleteOurRobots = function (dots){ var pr_dist = this.getDistance({x: 0, y:0}, {x: 3000, y:2000}); var pr_i = -1; var gr_dist = this.getDistance({x: 0, y:0}, {x: 3000, y:2000}); var gr_i = -1; var gr_pos_with_offset = { x: this.ia.gr.pos.x + GR_OFFSET*Math.cos(this.ia.gr.pos.a), y: this.ia.gr.pos.y + GR_OFFSET*Math.sin(this.ia.gr.pos.a) }; // logger.debug(&quot;Pos PR&quot;); // logger.debug(this.ia.pr.pos); // logger.debug(&quot;Pos GR&quot;); // logger.debug(gr_pos_with_offset); for (var i = 0; i &lt; dots.length; i++) { var pr_temp_dist = this.getDistance(dots[i], this.ia.pr.pos); var gr_temp_dist = this.getDistance(dots[i], gr_pos_with_offset); // logger.debug(&quot;Pr le pt :&quot;); // logger.debug(dots[i]); // logger.debug(pr_temp_dist); // logger.debug(gr_temp_dist); if ((pr_dist &gt; pr_temp_dist) &amp;&amp; (pr_temp_dist &lt; this.ia.pr.size.d * PR_GR_COEF)){ pr_dist = pr_temp_dist; pr_i = i; } if ((gr_dist &gt; gr_temp_dist) &amp;&amp; (gr_temp_dist &lt; this.ia.gr.size.d * PR_GR_COEF)){ gr_dist = gr_temp_dist; gr_i = i; } } if (pr_i != -1) { // logger.debug(&quot;Deleting PR:&quot;); // logger.debug(dots[pr_i]); // logger.debug(this.ia.pr.pos); dots.splice(pr_i,1); if (pr_i &lt; gr_i) { gr_i = gr_i -1; } } else { logger.warn(&quot;On a pas trouvé le PR parmis les points de l'Hokuyo&quot;); } if (gr_i != -1) { // logger.debug(&quot;Deleting GR:&quot;); // logger.debug(dots[gr_i]); // logger.debug(gr_pos_with_offset); // logger.debug(this.getDistance(dots[gr_i], gr_pos_with_offset)); dots.splice(gr_i,1); } else { logger.warn(&quot;On a pas trouvé le GR parmis les points de l'Hokuyo&quot;); } // logger.debug(dots); }; /** * Returns Best Matching Coefficient * * @param {Object} dots * @param {Object} robots * @param {int} now */ Hokuyo.prototype.getBestMatchingCoef = function(dots, robots, now) { // Return the couple of ennemy robot and dot that matches the best var matching_coef = []; var best_coef = { value: this.getDistance({x: 0, y:0}, {x: 3000, y:2000}), dot: -1, e_robot: -1 }; for (var d = 0; d &lt; dots.length; d++){ // for each real point matching_coef[d] = []; for (var i = 0; i &lt; robots.length; i++) { // we make a matching coefficient matching_coef[d][i] = this.getMatchingCoef(dots[d], robots[i], robots[i].lastUpdate - now, robots[i].status); if (best_coef.value &gt; matching_coef[d][i]) { best_coef.value = matching_coef[d][i]; best_coef.dot = d; best_coef.e_robot = i; } } } //logger.debug(&quot;Coefficients de matching&quot;); //logger.debug(matching_coef); return best_coef; }; Hokuyo.prototype.updatePos = function (dots) { // Invert dots if we are green if (this.ia.color == &quot;green&quot;){ for (var i = 0; i &lt; dots.length; i++) { dots[i].x = 3000 - dots[i].x; } } if (!this.matchStarted){ // logger.debug(&quot;Le match n'a pas commencé&quot;); return; } if (dots.length === 0) logger.warn(&quot;On a reçu un message vide (pas de spots dedans)&quot;); else { clearTimeout(timeout); if (dots.length != ((this.params.we_have_hats?2:0) + this.params.nb_erobots)) { // logger.info(&quot;On a pas le meme nombre de spots (&quot;+dots.length+&quot;) que de robots à détecter (&quot;+ // ((this.params.we_have_hats?2:0) + this.params.nb_erobots) + &quot;).&quot;); } // takes a timestamp to be able to compute speeds var now = this.ia.timer.get(); // var now = this.lastNow = this.lastNow+1; // if we have hats, kill ourselves (virtualy, of course) if (this.params.we_have_hats) this.deleteOurRobots(dots); // // until there are dots left to be matched with ennmies // while (dots.length &gt; 0){ // // if some robots aren't already matched // var e_r2Bmatched = []; // for (var i = 0; i &lt; this.ia.data.nb_erobots; i++) { // if(this.ia.data.erobot[i].lastUpdate &lt; now){ // // logger.debug(this.ia.data.erobot[i].name + &quot; last update :&quot;); // // logger.debug(this.ia.data.erobot[i].lastUpdate); // e_r2Bmatched.push(this.ia.data.erobot[i]); // } // } // if (e_r2Bmatched.length &gt; 0) { // // logger.debug(&quot;On s'occupe des robots :&quot;); // // logger.debug(e_r2Bmatched); // // logger.debug(&quot;Avec les points :&quot;); // // logger.debug(dots); // // for each eatimated position of the robots // var best_coef = this.getBestMatchingCoef(dots, e_r2Bmatched, now); // // logger.debug(best_coef); // // if the bigger coefficient is under the arbitrary threshold // // XXX // // we take the best/bigger coefficient (well named best_coef :P ) // // if it isn't, set the new position, speed, status, call the &quot;ennemy went there&quot; function // // logger.debug(&quot;On a matché le point suivant avec le &quot;+e_r2Bmatched[best_coef.e_robot].name+&quot; ennemi&quot;); // // logger.debug(dots[best_coef.dot]); // if (best_coef.e_robot == -1){ // logger.warn('Erreur de matching (il reste des robots à matcher avec des points mais ils collent pas) :'); // //logger.warn(e_r2Bmatched); // //logger.warn(dots); // break; // } // //logger.debug(&quot;Le &quot;+e_r2Bmatched[best_coef.e_robot].name+&quot; est passé de &quot;+e_r2Bmatched[best_coef.e_robot].pos.x+&quot;, &quot;+e_r2Bmatched[best_coef.e_robot].pos.y+ &quot; à &quot;+dots[best_coef.dot].x+&quot;, &quot;+dots[best_coef.dot].y); // e_r2Bmatched[best_coef.e_robot].lastUpdate = now; // var deltaT = now - this.lastNow; // if (deltaT !== 0){ // var x_spd = (dots[best_coef.dot].x - e_r2Bmatched[best_coef.e_robot].pos.x)/deltaT; // var y_spd = (dots[best_coef.dot].y - e_r2Bmatched[best_coef.e_robot].pos.y)/deltaT; // if (x_spd &gt; MAX_SPD) { // x_spd = MAX_SPD; // } else if (x_spd &lt; -MAX_SPD) { // x_spd = -MAX_SPD; // } // if (y_spd &gt; MAX_SPD) { // y_spd = MAX_SPD; // } else if (y_spd &lt; -MAX_SPD) { // y_spd = -MAX_SPD; // } // e_r2Bmatched[best_coef.e_robot].speed = { // x: x_spd, // y: y_spd // }; // } else { // logger.warn(&quot;Tiens, deltaT = 0, c'est bizarre...&quot;); // e_r2Bmatched[best_coef.e_robot].speed = { // x:0, // y:0 // }; // } // e_r2Bmatched[best_coef.e_robot].pos = { // x: dots[best_coef.dot].x, // y: dots[best_coef.dot].y, // }; // // logger.debug(&quot;Position et vitesse du robot :&quot;); // // logger.debug(e_r2Bmatched[best_coef.e_robot].pos); // // logger.debug(e_r2Bmatched[best_coef.e_robot].speed); // // if it's climbing the stairs, set the correct status // if (this.isOnTheStairs(dots[best_coef.dot])){ // e_r2Bmatched[best_coef.e_robot].status = &quot;on_the_stairs&quot;; // logger.info(e_r2Bmatched[best_coef.e_robot].status); // } else { // e_r2Bmatched[best_coef.e_robot].status = &quot;moving&quot;; // this.ia.data.theEnnemyWentThere(e_r2Bmatched[best_coef.e_robot].pos, best_coef.e_robot); // } // // and delete the dot // dots.splice(best_coef.dot,1); // } else { // // if all the robots are tidied up, ouw, that's strange ^^ // //logger.warn(&quot;Un ou plusieurs spots de plus que de robots sur la table :&quot;); // //logger.warn(dots); // //logger.warn(&quot;e_r2Bmatched&quot;); // //logger.warn(e_r2Bmatched); // break; // } // } // // XXX /!\\ robots on the stairs ! // // if there's some robots to be matched (but no real point left :/), they're lost... // // we estimate their position and tag them with &quot;lost&quot; // for (var i = 0; i &lt; this.ia.data.nb_erobots; i++) { // if ((this.ia.data.erobot[i].lastUpdate &lt; now) &amp;&amp; (this.ia.data.erobot[i].status == &quot;moving&quot;)){ // this.ia.data.erobot[i].pos = { // x: this.ia.data.erobot[i].pos.x + this.ia.data.erobot[i].speed.x*Math.abs(this.ia.data.erobot[i].lastUpdate - now), // y: this.ia.data.erobot[i].pos.y + this.ia.data.erobot[i].speed.y*Math.abs(this.ia.data.erobot[i].lastUpdate - now) // }; // this.ia.data.erobot[i].speed = { // x:0, // y:0, // }; // this.ia.data.erobot[i].status = &quot;lost&quot;; // this.ia.data.erobot[i].lastUpdate = now; // this.nb_lost = 0; // } else if ((this.ia.data.erobot[i].lastUpdate &lt; now) &amp;&amp; (this.ia.data.erobot[i].status == &quot;lost&quot;) &amp;&amp; (this.nb_lost&lt;LOST_TIMEOUT)){ // this.nb_lost += 1; // } else if ((this.ia.data.erobot[i].lastUpdate &lt; now) &amp;&amp; (this.ia.data.erobot[i].status == &quot;lost&quot;) &amp;&amp; (this.nb_lost==LOST_TIMEOUT)){ // // Si le robot était déjà perdu à l'itération d'avant // this.mayday(&quot;On a perdu le &quot;+this.ia.data.erobot[i].name + &quot; ennemi&quot;); // } // } // this.lastNow = now; // this.detectCollision(dots); // this.ia.data.dots = dots.map(function(val){ // return { // pos: val, // d: 320 // }; // }); for(var d in dots) { if(d.x &gt; 300 &amp;&amp; d.x &lt; 2700 &amp;&amp; d.y &gt; 300 &amp;&amp; d.y &lt; 1700) { this.ia.pr.stop(); } } timeout = setTimeout(function() {this.timedOut();}.bind(this) , 1000); } }; /** * Detects Collision * * @param {Object} dots */ Hokuyo.prototype.detectCollision = function(dots) { var collision = false; var pf = this.ia.pr.path; var minDist; // for each path segment var complete_path = [this.ia.pr.pos].concat(this.ia.pr.path); for (var i = 0; i &lt; complete_path.length-1 &amp;&amp; !collision; (i++) ) { var segment = [complete_path[i], complete_path[i+1]]; // so segment[0][0] is the x value of the beginning of the segment var segLength = this.getDistance({x:segment[0].x , y:segment[0].y }, {x:segment[1].x , y:segment[1].y }); var nthX = (segment[1].x-segment[0].x)*SEGMENT_DELTA_D/segLength; // segment X axis length nth var nthY = (segment[1].y-segment[0].y)*SEGMENT_DELTA_D/segLength; // for each X cm of the segment for (var j = 0; (j*SEGMENT_DELTA_D) &lt; segLength &amp;&amp; !collision; (j++)) { var segPoint = { x: segment[0].x + nthX*j, y: segment[0].y + nthY*j }; // distance to each estimated position of the ennemi robots minDist = 10000;//this.getDistance(dots[0], segPoint); for(var k = 0; k &lt; dots.length; k++) { var tmp = this.getDistance(dots[k], segPoint); if (tmp &lt; minDist) { minDist = tmp; } } // if (ebots.length == 2) { // var tmp = this.getDistance(ebots[1], segPoint); // if (tmp &lt; minDist) { // minDist = tmp; // } // } // if one of the dist &lt; security diameter, there will be a collision if (minDist &lt; 450) { collision = true; } } } if (collision) { this.ia.pr.collision(); } }; // Hokuyo.prototype.detectCollision = function() { // var collision = false; // var pf = this.ia.pr.path; // var ebots = [{ // estimated positions // x:this.ia.data.erobot[0].pos.x + this.ia.data.erobot[0].speed.x*DELTA_T, // y:this.ia.data.erobot[0].pos.y + this.ia.data.erobot[0].speed.y*DELTA_T, // d:this.ia.data.erobot[0].d // }]; // if (this.ia.data.nb_erobots == 2) { // ebots.push = { // x:this.ia.data.erobot[1].pos.x + this.ia.data.erobot[1].speed.x*DELTA_T, // y:this.ia.data.erobot[1].pos.y + this.ia.data.erobot[1].speed.y*DELTA_T, // d:this.ia.data.erobot[1].d // }; // } // // for each path segment // var complete_path = [this.ia.pr.pos].concat(this.ia.pr.path); // for (var i = 0; i &lt; complete_path.length-1 &amp;&amp; !collision; (i++) ) { // var segment = [complete_path[i], complete_path[i+1]]; // so segment[0][0] is the x value of the beginning of the segment // var segLength = this.getDistance({x:segment[0].x , y:segment[0].y }, {x:segment[1].x , y:segment[1].y }); // var nthX = (segment[1].x-segment[0].x)*SEGMENT_DELTA_D/segLength; // segment X axis length nth // var nthY = (segment[1].y-segment[0].y)*SEGMENT_DELTA_D/segLength; // // for each X cm of the segment // for (var j = 0; (j*SEGMENT_DELTA_D) &lt; segLength &amp;&amp; !collision; (j++)) { // var segPoint = { // x: segment[0].x + nthX*j, // y: segment[0].y + nthY*j // }; // // distance to each estimated position of the ennemi robots // var minDist = this.getDistance(ebots[0], segPoint); // /* // if (ebots.length == 2) { // var tmp = this.getDistance(ebots[1], segPoint); // if (tmp &lt; minDist) { // minDist = tmp; // } // }*/ // // if one of the dist &lt; security diameter, there will be a collision // if (minDist &lt; SECURITY_COEF*ebots[0].d/2.0) { // collision = true; // } // } // } // if (collision) { // this.ia.pr.collision(); // } // }; /** * Updates number of robots * * @param {int} nb Number of robots */ Hokuyo.prototype.updateNumberOfRobots = function (nb) { switch (nb){ case 0: this.nb_hokuyo = 0; // Fatal error this.mayday(&quot;On plus d'hokuyo&quot;); break; case 1: this.nb_hokuyo = 1; // bigger security zone ? throw startAgain ? break; case 2: this.nb_hokuyo = 2; break; default: logger.info(&quot;Invalid number of robots received :&quot; + nb); } }; /** * May Day * * @param {string} reason */ Hokuyo.prototype.mayday = function(reason) { logger.error(&quot;Mayday called, the given reason is :&quot;); logger.error(reason); // XXX ? -&gt; en fait on bloque peut-être pas ! : si le robot s'est vautré, c'est son soucis }; /** * Parse Order * * @param {string} from * @param {string} name * @param {Object} params */ Hokuyo.prototype.parseOrder = function (from, name, params) { var orderName = name.split('.')[1]; switch (orderName){ case &quot;position_tous_robots&quot;: this.updatePos(params.dots); break; case &quot;nb_hokuyo&quot;: this.updateNumberOfRobots(params.nb); break; default: logger.warn(&quot;Message name &quot; + name + &quot; not understood&quot;); } }; /** * Return true if the number of Hokuyo isn't equal to 0 */ Hokuyo.prototype.isOk = function () { if (this.nb_hokuyo === 0) return false; else return true; }; return Hokuyo; })(); × Search results Close "},"ia_ia.class.js.html":{"id":"ia_ia.class.js.html","title":"Source: ia/ia.class.js","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Source: ia/ia.class.js /** * IA Module * * @module ia/ia * @requires module:server/socket_client * @requires module:config * @requires module:ia/timer * @requires module:ia/pathfinding * @requires module:ia/data * @requires module:ia/actions * @requires module:ia/gr * @requires module:ia/pr * @requires module:ia/export_simulator * @requires log4js * @see {@link ia/ia.Ia} */ module.exports = (function () { &quot;use strict&quot;; var log4js = require('log4js'); var logger = log4js.getLogger('ia.ia'); var log_counter = 0; /** * Return the distance between two positions * * @param {int} Ax * @param {int} Ay * @param {int} Bx * @param {int} By */ function norm(Ax, Ay, Bx, By) { return Math.sqrt(Math.pow(Ax-Bx, 2) + Math.pow(Ay-By, 2)); } /** * Constructor of Ia * * @exports ia/ia.Ia * @constructor * @param {string} color=yellow * @param {int} nb_erobots=2 Number of robots in a team * @param EGR_d EGR diameter * @param EGPR_d EPR diameter */ function Ia(color, nb_erobots, EGR_d, EPR_d) { var we_have_hats = true; if(!color) { logger.error('Please give a color to ia'); } if(!nb_erobots) { logger.error('Please give the number of ennemis robots'); } if(!we_have_hats) { logger.error('Please say true if we have something on our robots detectable by the Hokuyos'); } if(!EGR_d) { logger.error('Please give the EGR diameter'); } if(!EPR_d) { logger.error('Please give the EPR diameter'); } /** * Color of the IA team */ this.color = color || &quot;yellow&quot;; /** * Number of robots controlled by the IA */ this.nb_erobots = nb_erobots || 2; logger.info(&quot;Launching a &quot;+this.color+&quot; AI with &quot;+this.nb_erobots+&quot; ennemies.&quot;); /** Socket client */ this.client = new (require('../server/socket_client.class.js'))({type: 'ia', server_ip: require('../config.js').server }); /** Timer */ this.timer = new (require('./timer.class.js'))(this); /** Pathfinding */ this.pathfinding = new (require('./pathfinding.class.js'))(this); /** Data */ this.data = new (require('./data.class.js'))(this, this.nb_erobots, EGR_d, EPR_d); /** Actions */ this.actions = new (require('./actions.class.js'))(this); /** Grand robot */ this.gr = new (require('./gr.class.js'))(this, this.color); /** Petit robot */ this.pr = new (require('./pr.class.js'))(this, this.color); // this.hokuyo = new (require('./hokuyo.class.js'))(this, { // color: this.color, // nb_erobots: parseInt(this.nb_erobots), // we_have_hats: (we_have_hats === &quot;true&quot;) // }); /** Export simulator */ this.export_simulator = new (require('./export_simulator.class.js'))(this); this.client.send(&quot;server&quot;, &quot;server.iaColor&quot;, {color: this.color}); this.client.order(function(from, name, params) { var classe = name.split('.')[0]; // logger.debug(this[classe]); if(classe == 'ia') { switch(name) { case 'ia.jack': this.jack(); break; case 'ia.stop': this.stop(); break; case 'ia.hok': if ((log_counter++ % 15) == 0) { logger.debug(params); } this.pr.updatePos(params); break; case 'ia.hokfailed': logger.fatal(&quot;HOKUYO NOT WORKING, UNPLUG AND REPLUG USB&quot;); this.pr.updatePos(params); break; default: logger.warn(&quot;Ordre pour l'ia inconnu : &quot;+name); } } else if(!!this[classe]) { // logger.debug(&quot;Order to class: &quot;+classe); if(!this[classe].parseOrder) { logger.warn(&quot;Attention, pas de fonction parseOrder dans ia.&quot;+classe); } else { this[classe].parseOrder(from, name, params); } } else { logger.warn(&quot;Sous client inconnu: &quot;+classe); } }.bind(this)); // temp // // this.gr.start(); // this.jack(); ////////// } /** * Unjack action * * Starts the robots */ Ia.prototype.jack = function() { if(!this.timer.match_started) { logger.info(&quot;Démarrage du match&quot;); this.timer.start(); setTimeout(function() { this.gr.start(); }.bind(this), 10000); this.pr.start(); // this.hokuyo.start(); } else { logger.warn(&quot;Match déjà lancé&quot;); } }; /** * Stop the robots and stop the programm */ Ia.prototype.stop = function() { logger.fatal('Stop IA'); this.gr.stop(); this.pr.stop(); // this.hokuyo.stop(); setTimeout(process.exit, 1000); }; return Ia; })(); × Search results Close "},"ia_pathfinding.class.js.html":{"id":"ia_pathfinding.class.js.html","title":"Source: ia/pathfinding.class.js","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Source: ia/pathfinding.class.js /** * Pathfinding module * * @module ia/pathfinding * @requires log4js * @requires path * @requires child_process * @requires byline * @see {@link ia/pathfinding.Pathfinding} */ module.exports = (function () { &quot;use strict&quot;; var Path = require('path'); var programm = Path.normalize(&quot;./pathfinding/bin/pathfinding&quot;); var image = Path.normalize(&quot;./pathfinding/img/map-20mm-yellow.bmp&quot;); var RATIO = 20; var SEPARATOR = &quot;;&quot;; var logger = require('log4js').getLogger('ia.pathfinding'); var Child_process = require('child_process'); var Byline = require('byline'); /** * Pathfinding constructor * * @exports ia/pathfinding.Pathfinding * @constructor * @param {Ia} ia */ function Pathfinding(ia) { /** Ia */ this.ia = ia; var fifo = []; /*var instance_pkill = Child_process.spawn(&quot;pkill&quot;, [&quot;pathfinding&quot;]); instance_pkill.on('error', function(err){ logger.error(&quot;error pkilling pathfinding code:&quot;+err.code); }); instance_pkill.on('exit', function(code){ logger.info(&quot;successfully pkilled all old instances of pathfinding&quot;); }); var instance = Child_process.spawn(programm, [ image ]);*/ var instance = Child_process.spawn(&quot;bash&quot;, [&quot;-c&quot;, &quot;pkill pathfinding;&quot;+programm+&quot; &quot;+image]); instance.on('error', function(err) { if(err.code === 'ENOENT'){ logger.fatal(&quot;pathfinding programm executable not found! Is it compiled ? :) Was looking in \\&quot;&quot;+Path.resolve(programm)+&quot;\\&quot;&quot;); process.exit(); } logger.error(&quot;c++ subprocess terminated with error:&quot;, err); console.log(err); }); instance.on('exit', function(code) { logger.fatal(&quot;c++ subprocess terminated with code:&quot;+code); }); process.on('exit', function(){ //ensure child process is killed if(instance.connected){ //and was still connected (dont kill another process) instance.kill(); } }); var stdout = Byline.createStream(instance.stdout); stdout.setEncoding('utf8') stdout.on('data', function(data) { logger.debug(&quot;Received: &quot;+data); parse(data); }); instance.stderr.on('data', function(data) { logger.error(&quot;stderr :&quot;+data.toString()); }); /** * Vector Multiply * * @param {Object} arr * @param {int} ratio */ function vecMultiply(arr, ratio){ return arr.map(function(val){ return Math.round(val*ratio); }); } /** * Send a Query * * @param start * @param end * @param cb */ this.sendQuery = function(start, end, cb){ fifo.push(cb || true); var str = [&quot;C&quot;].concat( vecMultiply(start, 1/RATIO) ).concat( vecMultiply(end, 1/RATIO) ).join(SEPARATOR) + &quot;\\n&quot;; instance.stdin.write( str ); logger.info(&quot;Sending:&quot;+str); }; /** * Send Dynamic * * @param {Object} objects */ this.sendDynamic = function(objects){ //X0, Y0, R0, ... var str = [&quot;D&quot;].concat(objects.reduce(function(acc, obj){ return acc.concat( vecMultiply(obj, 1/RATIO) ); }, [])).join(SEPARATOR) + &quot;\\n&quot;; // logger.debug(str); instance.stdin.write(str); } /** * Parse data * * @param {Object} data */ function parse (data) { // X0; Y0; ... Xn; Yn var ret = null; if(data != &quot;FAIL&quot;) { var path = []; var splitted = data.split(SEPARATOR); while(splitted.length &gt; 1){ path.push( vecMultiply([splitted.shift(), splitted.shift()], RATIO) ); } if(path.length &gt; 0) ret = path; } var callback = fifo.shift(); callback(ret); // if(typeof callback === &quot;function&quot;) } } /** * Get Path * * @param start * @param end * @param callback */ Pathfinding.prototype.getPath = function (start, end, callback) { this.ia.pathfinding.updateMap(); this.timeout_getpath = setTimeout(function() { callback(null); callback = function() {}; }, 1000); this.sendQuery([start.x, start.y], [end.x, end.y], function(path){ clearTimeout(this.timeout_getpath); if(path !== null) { path.shift(); path = path.map(function(val) { return { x: val[0], y: val[1] }; }); } callback(path); }.bind(this)); }; /** * Borne * * @param {int} x * @param {int} min * @param {int} max */ function borne(x, min, max) { return x &gt; max ? max : x &lt; min ? min : x; } /** * Update Map */ Pathfinding.prototype.updateMap = function () { //[ [x, y, r], ... ] // var objects = []; // objects.push(); var objects = [{ pos: this.ia.gr.pos, d: this.ia.gr.size.d }].concat(this.ia.data.dots).concat(this.ia.data.dynamic); // logger.debug(objects); this.sendDynamic( objects.map(function(val){ // logger.debug(val); return [borne(val.pos.x, 0, 2980), borne(val.pos.y, 0, 1980), 1*((val.d/2)+(this.ia.pr.size.d/2))]; }.bind(this)) ); }; return Pathfinding; })(); /* (function(){ var pathfinding = new module.exports(); function log(result){ console.log(&quot;RESULT&quot;, result); process.exit(); } setTimeout(function(){ pathfinding.getPath([500,1000], [1500, 200], log); }, 10); })(); //*/ × Search results Close "},"ia_timer.class.js.html":{"id":"ia_timer.class.js.html","title":"Source: ia/timer.class.js","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Source: ia/timer.class.js /** * Timer Module * * @module ia/timer * @see {@link ia/timer.Timer} */ module.exports = (function () { &quot;use strict&quot;; /** * Timer Constructor * * @exports ia/timer.Timer * @constructor * @param {Object} ia */ function Timer(ia) { /** t0 */ this.t0 = null; /** Match started */ this.match_started = false; /** IA */ this.ia = ia; } /** * Start timer */ Timer.prototype.start = function() { this.t0 = Date.now(); this.match_started = true; // le match commence setTimeout(function() { logger.fatal(&quot;TIME OVER&quot;); this.ia.stop(); }.bind(this), 89000); }; /** * Get Timer. Permet d'obtenir le temps écoulé en ms */ Timer.prototype.get = function () { if (this.match_started) return Date.now() - this.t0; else return 0; }; /** * Status */ Timer.prototype.status = function () { if (this.match_started) { return &quot;Match started&quot;; } else { return &quot;Wainting for jack&quot;; } }; return Timer; })(); × Search results Close "},"clients_gr_main.js.html":{"id":"clients_gr_main.js.html","title":"Source: clients/gr/main.js","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Source: clients/gr/main.js /** * Main module * * @module clients/gr/main * @requires server/socket_client * @requires config * @requires clients/gr/actuators * @requires clients/gr/detect */ (function () { &quot;use strict&quot;; // Requires var log4js = require('log4js'); var logger = log4js.getLogger('gr'); // logger.info(&quot;Started NodeJS client with pid &quot; + process.pid); var SocketClient = require('../../server/socket_client.class.js'); var server = require('../../config.js').server; /** @type {server/socket_client.SocketClient} */ var client = new SocketClient({ server_ip: server, type: &quot;gr&quot; }); /** @type {Object} */ var lastStatus = { &quot;status&quot;: &quot;waiting&quot; }; sendChildren(lastStatus); /** @type {clients/gr/actuators.Acts} */ var acts = new (require('./actuators.class.js'))(client, sendChildren); /** @type {clients/gr/detect.Detect} */ var detect = null; // new (require('./detect.class.js'))(devicesDetected); var queue = []; var orderInProgress = null; start(); // On message client.order(function (from, name, params){ // logger.info(&quot;Recieved an order &quot;+name); switch (name){ case &quot;collision&quot;: queue = []; acts.clean(); orderInProgress = false; break; case &quot;stop&quot;: acts.clean(); logger.fatal(&quot;Stop GR&quot;); process.exit(); break; // useless // case &quot;start&quot;: queue = []; start(); break; default: addOrder2Queue(from, name, params); } }); /** * Starts the GR */ function start(){ logger.info(&quot;Starting :)&quot;); sendChildren({ status: &quot;starting&quot;, children:[] }); detect = new (require('./detect.class.js'))(devicesDetected); } /** * Stops the robot */ function stop(){ acts.quit(); // Send struct to server sendChildren({ status: &quot;waiting&quot;, children:[] }); } /** * Devices detected * * @param {Object} struct */ function devicesDetected(struct){ // Verify content if (!struct.servos) logger.warn(&quot;Missing servos Nano&quot;); if (!struct.asserv) logger.warn(&quot;Missing asserv Nano&quot;); // Connect to what's detected acts.connectTo(struct); // Send struct to server sendChildren(acts.getStatus()); } /** * Sends status to server * * @param {Object} status */ function sendChildren(status){ lastStatus = status; client.send(&quot;server&quot;, &quot;server.childrenUpdate&quot;, lastStatus); } /** * Looks if everything is Ok */ function isOk(){ if(lastStatus.status != &quot;waiting&quot;) lastStatus = acts.getStatus(); client.send(&quot;ia&quot;, &quot;isOkAnswer&quot;, lastStatus); client.send(&quot;server&quot;, &quot;server.childrenUpdate&quot;, lastStatus); } /** * Push the order (enfiler) * * @param {string} f from * @param {string} n name * @param {Object} p parameters */ function addOrder2Queue(f, n, p){ if(queue.length &lt; 50) { // Adds the order to the queue queue.push({ from: f, name: n, params: p }); // logger.info(&quot;Order added to queue ! : &quot;); // logger.info(queue); executeNextOrder(); } } /** * Execute order */ function executeNextOrder(){ if ((queue.length &gt; 0) &amp;&amp; (!orderInProgress)){ var order = queue.shift(); orderInProgress = order.name; logger.info(&quot;Going to do '&quot; + orderInProgress + &quot;' &quot;+order.params.toString()); acts.orderHandler(order.from, order.name, order.params, actionFinished); executeNextOrder(); } } /** * Launch the next order */ function actionFinished(){ logger.info(orderInProgress + &quot; just finished !&quot;); orderInProgress = false; executeNextOrder(); } /** * Tries to exit * * @todo do something when app is closing */ function quit () { logger.info(&quot;Please wait while exiting...&quot;); // acts.quit(); process.exit(0); } // Exiting : //do something when app is closing //process.on('exit', quit); // catches ctrl+c event //process.on('SIGINT', quit); // //catches uncaught exceptions // process.on('uncaughtException', quit); })(); × Search results Close "},"clients_pr_main.js.html":{"id":"clients_pr_main.js.html","title":"Source: clients/pr/main.js","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Source: clients/pr/main.js /** * Main module * * @module clients/pr/main * @requires server/socket_client * @requires config * @requires clients/pr/actuators * @requires clients/pr/detect */ (function () { &quot;use strict&quot;; // Requires var logger = require('log4js').getLogger('pr'); // logger.info(&quot;Started NodeJS client with pid &quot; + process.pid); var SocketClient = require('../../server/socket_client.class.js'); var server = require('../../config.js').server var client = new SocketClient({ server_ip: server, type: &quot;pr&quot; }); var lastStatus = { &quot;status&quot;: &quot;waiting&quot; }; sendChildren(lastStatus); var acts = new (require('./actuators.class.js'))(client, sendChildren); var detect = null; var queue = []; var orderInProgress = false; start(); // On message client.order(function (from, name, params){ // logger.info(&quot;Recieved an order &quot;+name); switch (name){ case &quot;collision&quot;: queue = []; acts.clean(); orderInProgress = false; break; case &quot;stop&quot;: acts.clean(); setTimeout(function() { logger.fatal(&quot;Stop PR&quot;); process.exit(); }, 800); break; // useless // case &quot;start&quot;: queue = []; start(); break; default: addOrder2Queue(from, name, params); } }); function start(){ logger.info(&quot;Starting :)&quot;); sendChildren({ status: &quot;starting&quot;, children:[] }); detect = new (require('./detect.class.js'))(devicesDetected); } // function stop(){ // acts.quit(); // // Send struct to server // sendChildren({ // status: &quot;waiting&quot;, // children:[] // }); // } function devicesDetected(struct){ // Verify content if (!struct.others) logger.warn(&quot;Missing others Mega&quot;); // if (!struct.servos) // logger.warn(&quot;Missing servos Nano&quot;); if (!struct.asserv) logger.warn(&quot;Missing asserv Nano&quot;); if (!struct.ax12) logger.warn(&quot;Missing USB2AX&quot;); // Connect to what's detected acts.connectTo(struct); // Send struct to server sendChildren(acts.getStatus()); } // Sends status to server function sendChildren(status){ lastStatus = status; client.send(&quot;server&quot;, &quot;server.childrenUpdate&quot;, lastStatus); } function isOk(){ if(lastStatus.status != &quot;waiting&quot;) lastStatus = acts.getStatus(); client.send(&quot;ia&quot;, &quot;isOkAnswer&quot;, lastStatus); client.send(&quot;server&quot;, &quot;server.childrenUpdate&quot;, lastStatus); } // Push the order (enfiler) function addOrder2Queue(f, n, p){ // if(n == 'clean') { // logger.info(n+&quot; : Begin&quot;); // acts.orderHandler(f, n, p, actionFinished); // } else if(queue.length &lt; 100){ // Adds the order to the queue queue.push({ from: f, name: n, params: p }); // logger.info(&quot;Order added to queue ! : &quot;); // logger.info(queue); executeNextOrder(); } } // Execute order function executeNextOrder(){ if ((queue.length &gt; 0) &amp;&amp; (!orderInProgress)) { var order = queue.shift(); if(order.name == &quot;send_message&quot;) { // logger.debug(&quot;Send message %s&quot;, order.params.name); client.send('ia', order.params.name, order.params || {}); executeNextOrder(); } else { orderInProgress = order.name; logger.info(orderInProgress+&quot; : Begin&quot;); // logger.debug(order.params); acts.orderHandler(order.from, order.name, order.params, actionFinished); // executeNextOrder(); } } } function actionFinished(){ if(orderInProgress !== false) { logger.info(orderInProgress + &quot; : End&quot;); orderInProgress = false; executeNextOrder(); } } function quit () { logger.info(&quot;Please wait while exiting...&quot;); acts.quit(); process.exit(); } // Exiting : //do something when app is closing // process.on('exit', quit); // catches ctrl+c event // process.on('SIGINT', quit); // //catches uncaught exceptions // process.on('uncaughtException', quit); })(); × Search results Close "},"clients_shared_defineParser.js.html":{"id":"clients_shared_defineParser.js.html","title":"Source: clients/shared/defineParser.js","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Source: clients/shared/defineParser.js /** * Define Parser module * * @module clients/shared/defineParser */ /* Converts : * #define VALUEA * #define VALUEB 'b' * #define VALUEC 42 * In : * { * VALUEA : null, * VALUEB : &quot;b&quot;, * VALUEC : 42 * } */ module.exports = (function(){ var logger = require('log4js').getLogger('DefineParser'); var fs = require('fs'); var reg = /#define[ \\t]+(\\S+)[ \\t]+(\\S+)/g; return function parse(file){ var parsed = {}; fs.readFile(file, 'utf8', function (err,data) { if(err) { logger.fatal(&quot;cant read file:\\&quot;&quot;+file+&quot;\\&quot;&quot;); return ; } var nb = 0; while( findings = reg.exec(data) ) { try { parsed[findings[1]] = eval(findings[2]); } catch(e) {} // try to evaluate calculus... nb++; } logger.info(&quot;done parsing \\&quot;&quot;+file+&quot;\\&quot; with &quot;+nb+&quot; defines&quot;); //should be quick enough }); return parsed; } })(); × Search results Close "},"config.js.html":{"id":"config.js.html","title":"Source: config.js","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Source: config.js /** * Server config * * @module config * @type {Object} */ module.exports = { &quot;server&quot;: &quot;127.0.0.1:3128&quot;, //&quot;server&quot;: &quot;192.168.0.100:3128&quot;, &quot;hokuyo_command&quot;: &quot;/root/coupe15/hokuyo/bin/hokuyo&quot; } × Search results Close "},"ia_main.js.html":{"id":"ia_main.js.html","title":"Source: ia/main.js","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Source: ia/main.js /** * Main module * * @module ia/main * @requires ia/ia * @requires log4js */ (function () { &quot;use strict&quot;; // Modules nodejs var log4js = require('log4js'); var logger = log4js.getLogger('ia.ia'); var color = process.argv[2]; if(!color) color = null; var nb_erobots = process.argv[3]; if(!nb_erobots) nb_erobots = null; var EGR_d = process.argv[4]; if(!EGR_d) EGR_d = null; var EPR_d = process.argv[5]; if(!EPR_d) EPR_d = null; var ia = new (require('./ia.class.js'))(color, nb_erobots, EGR_d, EPR_d); })(); × Search results Close "},"server_server.class.js.html":{"id":"server_server.class.js.html","title":"Source: server/server.class.js","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Source: server/server.class.js /** * Server module * @module server/server * @requires module:ia/main * @requires log4js * @requires child_process * @requires ansi-to-html * @requires os * @requires socket.io * @see {@link server/server.Server} */ module.exports = (function () { &quot;use strict&quot;; var log4js = require('log4js'); var logger = log4js.getLogger('Server'); var spawn = require('child_process').spawn; var Convert = require('ansi-to-html'); var convert = new Convert({newLine: true}); /** * Starts a server on the port specified. Default port: 3128 * * @exports server/server.Server * @constructor * @param {int} [server_port=3128] Server port */ function Server(server_port) { /** * @type {int} */ this.server_port = server_port || 3128; // Get server IP address var os = require('os'); var networkInterfaces = os.networkInterfaces(); try { /** @type {string} */ this.ip = networkInterfaces[&quot;eth0&quot;][0].address || networkInterfaces[&quot;Wi-Fi&quot;][0].address || &quot;127.0.0.1&quot;; } catch(e) { this.ip = &quot;127.0.0.1&quot;; } /** @type {string} */ this.ip_port = this.ip+':'+this.server_port; /** * Create the server * @type {Object} */ this.server = require('socket.io')(); /** * Create the network default object * @type {Object} * */ this.network = { server: { name: &quot;Server&quot;, ip: this.ip_port }, webclient: {}, ia: {}, hokuyo: {}, pr: {}, gr: {} }; /** @type {Object} */ this.utcoupe = { 'ia': false, 'pr': false, 'gr': false, 'hokuyo': false }; /** @type {Object} */ this.progs = { 'ia': null, 'pr': null, 'gr': null, 'hokuyo': false } // When the client is connected this.server.on('connection', function (client) { // When the client is disconnected client.on('disconnect', function() { logger.info(client.type+&quot; is disconnected!&quot;); try { delete this.network[client.type][client.id]; } catch(e) { } this.sendNetwork(); }.bind(this)); // When the client send his type client.on('type', function(data) { if(typeof data.type !== 'string') { logger.error(&quot;The client type sent isn't a string&quot;); return; } if(!(data.type in this.network)) { logger.error(&quot;The client type `&quot;+data.type+&quot;` isn't valid&quot;); return; } // The type is valid client.type = data.type; logger.info(client.type+&quot; is connected!&quot;); data.options.ip = client.handshake.address; this.network[client.type][client.id] = data.options; // console.log(this.network); client.join(client.type); client.emit('log', &quot;Connected to the server successfully at &quot; + client.handshake.headers.host); this.sendNetwork(); this.sendUTCoupe(); }.bind(this)); // When the client send an order client.on('order', function(data) { // console.log(data); if(typeof data !== 'object') { logger.error(&quot;The client order sent isn't a object&quot;); return; } if(data.to === undefined) { logger.error(&quot;The order hasn't 'to' argument (recipient)&quot;); return; } // if(!(data.to in client.adapter.rooms)) { // logger.warn(&quot;The order recipient `&quot;+data.to+&quot;` doesn't exist.&quot;); // } if(data.name == 'server.launch') { this.launch(data.params); } else if(data.name == 'server.stop') { this.stop(data.params); } else if(data.name == 'server.childrenUpdate') { // console.log(this.network); this.network[client.type][client.id].status = data.params.status || &quot;&quot;; this.network[client.type][client.id].children = data.params.children || &quot;&quot;; // console.log(this.network); this.sendNetwork(); } else if (data.name == 'server.iaColor') { this.network[client.type][client.id].color = data.params.color || &quot;&quot;; this.sendNetwork(); } else if (data.name == 'server.sync_all_git') { logger.info(&quot;Starting to sync all git repositories&quot;); spawn('/root/sync_all_git.sh', [], { detached: true }); } else if (data.name == 'server.flash_arduinos') { logger.info(&quot;Starting to flash all arduinos&quot;); spawn('/root/flash_all_arduinos.sh', [], { detached: true }); } else { // The order is valid // logger.info(&quot;Data &quot; +data.name+ &quot; from &quot; +data.from+ &quot; to &quot; +data.to); this.server.to('webclient').to(data.to).emit('order', data); } }.bind(this)); }.bind(this)); this.server.listen(this.server_port); logger.info(&quot;Server started at &quot;+this.ip_port); } /** * Send Network */ Server.prototype.sendNetwork = function(){ // logger.info(&quot;Message sent to webclient !&quot;); // logger.info(this.network); this.server.to('webclient').emit('order', { to: 'webclient', name: 'reseau', params: { network: this.network }, from: 'server' }); } /** * Launch the robot */ Server.prototype.launch = function(params) { var prog = params.prog; if(!this.utcoupe[prog]) { switch(prog) { case 'ia': this.progs[prog] = spawn('node', ['./ia/main.js', params.color, params.nb_erobots, params.EGR_d, params.EPR_d]); break; case 'pr': this.progs[prog] = spawn('ssh', ['igep', '/root/main.sh']); break; case 'gr': this.progs[prog] = spawn('node', ['./clients/gr/main.js']); break; case 'hokuyo': this.progs[prog] = spawn('ssh', ['raspi', '/root/main.sh']); break; } logger.info(&quot;[Launch]&quot;+prog); this.progs[prog].on('error', function (prog, err) { this.server.to('webclient').emit('order', { to: 'webclient', name: 'logger', params: { head: '[ERROR]['+prog+'](code:'+err.code+')', text: convert.toHtml(JSON.stringify(err)) }, from: 'server' }); }.bind(this, prog)); this.progs[prog].on('close', function (prog, code) { logger.error(&quot;[CLOSE]&quot;+prog); this.server.to('webclient').emit('order', { to: 'webclient', name: 'logger', // params: '[CLOSE]['+prog+'] '+data.toString(), params: { head: '[CLOSE]['+prog+'](code:'+code+')', text: &quot; &quot; }, from: 'server' }); this.stop(prog); }.bind(this, prog)); this.progs[prog].stdout.on('data', function (prog, data) { // logger.debug(data); // for(var i in data) { // if(data[i] == 5) // logger.debug('LOL'); // } this.server.to('webclient').emit('order', { to: 'webclient', name: 'logger', params: { head: '['+prog+'][stdout]', text: convert.toHtml(data.toString()) }, from: 'server' }); }.bind(this, prog)); this.progs[prog].stderr.on('data', function (prog, data) { this.server.to('webclient').emit('order', { to: 'webclient', name: 'logger', params: { source: '['+prog+'][stderr]', text: convert.toHtml(data.toString()) }, from: 'server' }); }.bind(this, prog)); // logger.debug(prog); // logger.fatal(prog, '|stdout|', data.toString()); this.utcoupe[prog] = true; } this.sendUTCoupe(); } /** * Stops all * * @param {string} prog */ Server.prototype.stop = function(prog) { if (prog == &quot;pr&quot;) { this.progs[prog] = spawn('ssh', ['igep', 'pkill', 'node']); } else if (prog == &quot;hokuyo&quot;) { this.progs[prog] = spawn('ssh', ['raspi', 'pkill', 'node']); } if(this.utcoupe[prog]) { this.progs[prog].kill(); logger.info(&quot;stopped &quot;+prog); this.utcoupe[prog] = false; } this.sendUTCoupe(); } /** * sendUTCoupe * * @param {string} prog */ Server.prototype.sendUTCoupe = function(prog) { this.server.to('webclient').emit('order', { to: 'webclient', name: 'utcoupe', params: this.utcoupe, from: 'server' }); } return Server; })(); × Search results Close "},"server_socket_client.class.js.html":{"id":"server_socket_client.class.js.html","title":"Source: server/socket_client.class.js","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Source: server/socket_client.class.js /** * Socket Client * * @module server/socket_client * @requires log4js * @requires socket.io-client * @see {@link server/socket_client.SocketClient} */ module.exports = (function () { &quot;use strict&quot;; var log4js = require('log4js'); var logger = log4js.getLogger('Client'); /** * Create a socket for the clients * * @exports server/socket_client.SocketClient * @constructor * @param {Object} params * @param {string} [params.server_ip=127.0.0.1:3128] Server IPv4 and port * @param {string} params.type Type of client */ function SocketClient(params) { /** * Server IP * @type {string} */ this.server_ip = params.server_ip || '127.0.0.1:3128'; /** * Socket du client */ this.client = require('socket.io-client')('http://'+this.server_ip); /** * callbacks */ this.callbacks = {}; if(!!params.type) /** Type of client */ this.type = params.type; else logger.error(&quot;Missing client type.&quot;); // When the client is connected to the server this.client.on('connect', function(){ logger.info('Client connected from server'); this.client.emit('type', { type: this.type, options: { name: this.type } }); if(!!this.callbacks.connect) this.callbacks.connect(); // this.client.emit('order', {to:'client2',text:'Hello!'}); }.bind(this)); // When the client receive log from the server this.client.on('log', function(data){ logger.info('[Server log] '+data); }.bind(this)); // When the client receive order from the server this.client.on('order', function(data){ // logger.info('[Order to '+data.to+'] '+data.text); if(!!this.callbacks.order) if (!!data.name) this.callbacks.order(data.from, data.name, data.params || {}); else logger.error(&quot;Order has no name ! : &quot; + data); }.bind(this)); // If after 500ms the client isn't connected, throw &quot;server not found&quot; error setTimeout(function() { if(this.client.disconnected) this.errorServerNotFound(); }.bind(this), 500); } /** * connect * * @param callback */ SocketClient.prototype.connect = function (callback) { this.callbacks.connect = callback; }; /** * order * * @param callback */ SocketClient.prototype.order = function (callback) { this.callbacks.order = callback; }; /** * Send parameters * * @param {string} to * @param {string} name * @param {Object} params */ SocketClient.prototype.send = function (to, name, params) { // logger.debug('send %s to %s', name, to); this.client.emit('order', { to: to, name: name, params: params, from: this.type }); }; // Error functions /** * Appends the error message in the logger * * @param {string} msg message to send */ SocketClient.prototype.throwError = function (msg) { logger.error(msg); }; /** * Throw Server not found */ SocketClient.prototype.errorServerNotFound = function () { this.throwError('Server not found at '+this.server_ip+', please make sure the server is running.'); }; /** * Throw Server timed out */ SocketClient.prototype.errorServerTimeout = function () { this.throwError('Server timed out, please make sure the server is still running.'); }; return SocketClient; })(); × Search results Close "},"utcoupe_utcoupe.js.html":{"id":"utcoupe_utcoupe.js.html","title":"Source: utcoupe/utcoupe.js","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Source: utcoupe/utcoupe.js /** * Main application * * @module utcoupe/utcoupe * @requires module:server/server * @requires log4js */ (function () { /** * Server * @type {server/server.Server} */ var Server = require('../server/server.class.js'); var log4js = require('log4js'); var logger = log4js.getLogger('Server'); /** * Create the server with default port */ var server = new Server(); })(); × Search results Close "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Modules Classes Acts Detect Servos Servos Acts Ax12 Ax12 Detect Elevator Others Others Asserv Asserv Fifo Actions Data ExportSimulator Gr Hokuyo Ia Pathfinding Timer Server SocketClient × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Classes Classes Acts Detect Servos Servos Acts Ax12 Ax12 Detect Elevator Others Others Asserv Asserv Fifo Actions Data ExportSimulator Gr Hokuyo Ia Pathfinding Timer Server SocketClient × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient × Search results Close "},"clients_gr_actuators.Acts.html":{"id":"clients_gr_actuators.Acts.html","title":"Class: Acts","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Class: Acts Acts new Acts(client, sendChildren) Acts Constructor Parameters: Name Type Description client Object sendChildren Object Source: clients/gr/actuators.class.js, line 37 Members client :Object Type: Object Source: clients/gr/actuators.class.js, line 39 sendChildren :Object Type: Object Source: clients/gr/actuators.class.js, line 41 Methods clean() Cleans fifo and asserv Source: clients/gr/actuators.class.js, line 55 connectTo( [struct]) Connect to the servos Parameters: Name Type Argument Description struct Object &lt;optional&gt; Source: clients/gr/actuators.class.js, line 65 getStatus() Gets the status Source: clients/gr/actuators.class.js, line 98 orderHandler(from, name, params, callback) Order switch Parameters: Name Type Description from string name string params Object callback Object Source: clients/gr/actuators.class.js, line 137 quit() Tries to quit Source: clients/gr/actuators.class.js, line 122 sendStatus() Sends Status Source: clients/gr/actuators.class.js, line 88 start() Starts (nothing ?) Source: clients/gr/actuators.class.js, line 48 × Search results Close "},"clients_gr_detect.Detect.html":{"id":"clients_gr_detect.Detect.html","title":"Class: Detect","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Class: Detect Detect new Detect(callback) Detect constructor Parameters: Name Type Description callback Object Source: clients/gr/detect.class.js, line 23 Members callback :Object Type: Object Source: clients/gr/detect.class.js, line 30 devicesFound :Object Type: Object Source: clients/gr/detect.class.js, line 25 Methods searchArduinos() Searches Arduino Source: clients/gr/detect.class.js, line 45 sendSP() Send SP Source: clients/gr/detect.class.js, line 37 × Search results Close "},"clients_gr_servos.Servos.html":{"id":"clients_gr_servos.Servos.html","title":"Class: Servos","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Class: Servos Servos new Servos(sp, sendStatus) Servos Constructors Parameters: Name Type Description sp string Server port sendStatus Object Source: clients/gr/servos.class.js, line 26 Members ready :boolean Type: boolean Source: clients/gr/servos.class.js, line 28 sendStatus :Object Type: Object Source: clients/gr/servos.class.js, line 30 Methods acheter(callback) Acheter Parameters: Name Type Description callback Object Source: clients/gr/servos.class.js, line 60 connect(sp) Connect Parameters: Name Type Description sp string Server port Source: clients/gr/servos.class.js, line 39 vendre(callback) Vendre Parameters: Name Type Description callback Object Source: clients/gr/servos.class.js, line 70 × Search results Close "},"clients_gr_servos-simu.Servos.html":{"id":"clients_gr_servos-simu.Servos.html","title":"Class: Servos","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Class: Servos Servos new Servos(sp) Servos constructor Parameters: Name Type Description sp Object Source: clients/gr/servos.simu.class.js, line 19 Methods acheter(callback) Acheter Parameters: Name Type Description callback Object Source: clients/gr/servos.simu.class.js, line 28 vendre(callback) Vendre Parameters: Name Type Description callback Object Source: clients/gr/servos.simu.class.js, line 36 × Search results Close "},"clients_pr_actuators.Acts.html":{"id":"clients_pr_actuators.Acts.html","title":"Class: Acts","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Class: Acts Acts new Acts(client, sendChildren) Acts Constructor Parameters: Name Type Description client Object sendChildren Object Source: clients/pr/actuators.class.js, line 32 Members client :Object Type: Object Source: clients/pr/actuators.class.js, line 34 has_gobelet :boolean Type: boolean Source: clients/pr/actuators.class.js, line 43 nb_plots :int Type: int Source: clients/pr/actuators.class.js, line 39 new_has_ball :boolean Type: boolean Source: clients/pr/actuators.class.js, line 41 sendChildren :Object Type: Object Source: clients/pr/actuators.class.js, line 36 Methods clean() Cleans all Source: clients/pr/actuators.class.js, line 56 connectTo(struct) Connect to Parameters: Name Type Description struct Object Source: clients/pr/actuators.class.js, line 69 getStatus() Get Status Source: clients/pr/actuators.class.js, line 125 monter_plot2( [callback]) Monter plot 2 Parameters: Name Type Argument Description callback Object &lt;optional&gt; Source: clients/pr/actuators.class.js, line 298 orderHandler(from, name, params, callback) Order switch Parameters: Name Type Description from string name string params Object callback Object Source: clients/pr/actuators.class.js, line 331 pousser_plot( [callback]) Pousser plot Parameters: Name Type Argument Description callback Object &lt;optional&gt; Source: clients/pr/actuators.class.js, line 253 prendre_plot( [callback] [, monter]) Prendre plot Parameters: Name Type Argument Description callback Object &lt;optional&gt; monter int &lt;optional&gt; Source: clients/pr/actuators.class.js, line 179 prendre_plot2( [callback]) Prendre plot Parameters: Name Type Argument Description callback Object &lt;optional&gt; Source: clients/pr/actuators.class.js, line 267 quit() Quit Source: clients/pr/actuators.class.js, line 154 sendStatus() Send status Source: clients/pr/actuators.class.js, line 115 start() Starts (nothing ?) Source: clients/pr/actuators.class.js, line 49 × Search results Close "},"clients_pr_ax12-simu.Ax12.html":{"id":"clients_pr_ax12-simu.Ax12.html","title":"Class: Ax12","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Class: Ax12 Ax12 new Ax12(fifo) Ax12 constructor Parameters: Name Type Description fifo clients/shared/fifo.Fifo Source: clients/pr/ax12.simu.class.js, line 18 Methods callCallback( [callback], ms) Calls callback Parameters: Name Type Argument Description callback Object &lt;optional&gt; ms int Source: clients/pr/ax12.simu.class.js, line 37 disconnect(x) Disconnects (nothing ?) Parameters: Name Type Description x Source: clients/pr/ax12.simu.class.js, line 27 fermer(callback) Fermer Parameters: Name Type Description callback Object Source: clients/pr/ax12.simu.class.js, line 63 fermerBalle(callback) Fermer Balle Parameters: Name Type Description callback Object Source: clients/pr/ax12.simu.class.js, line 71 fermerBalle2(callback) Fermer Balle 2 Parameters: Name Type Description callback Object Source: clients/pr/ax12.simu.class.js, line 79 ouvrir(callback) Ouvrir Parameters: Name Type Description callback Object Source: clients/pr/ax12.simu.class.js, line 54 × Search results Close "},"clients_pr_ax12.Ax12.html":{"id":"clients_pr_ax12.Ax12.html","title":"Class: Ax12","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Class: Ax12 Ax12 new Ax12(sp, sendStatus, fifo) Ax12 Constructor Parameters: Name Type Description sp string Serial Port NAME sendStatus Object fifo clients/shared/fifo.Fifo Source: clients/pr/ax12.class.js, line 48 Members ax12s :array.&lt;Object&gt; Type: array.&lt;Object&gt; Source: clients/pr/ax12.class.js, line 84 fifo :clients/shared/fifo.Fifo Type: clients/shared/fifo.Fifo Source: clients/pr/ax12.class.js, line 56 orders_sent :Object Type: Object Source: clients/pr/ax12.class.js, line 54 ready :boolean Type: boolean Source: clients/pr/ax12.class.js, line 50 sendStatus :Object Type: Object Source: clients/pr/ax12.class.js, line 52 type_callback :Object Type: Object Source: clients/pr/ax12.class.js, line 86 Methods connect(sp) Connect Parameters: Name Type Description sp string Serial Port NAME Source: clients/pr/ax12.class.js, line 75 degToAx12(deg) Deg to AX12 Parameters: Name Type Description deg int Source: clients/pr/ax12.class.js, line 147 disconnect(x) Disconnect Parameters: Name Type Description x Source: clients/pr/ax12.class.js, line 100 fermer( [callback]) Fermer Parameters: Name Type Argument Description callback Object &lt;optional&gt; Source: clients/pr/ax12.class.js, line 177 fermerBalle( [callback]) Fermer balle Parameters: Name Type Argument Description callback Object &lt;optional&gt; Source: clients/pr/ax12.class.js, line 198 fermerBalle2( [callback]) Fermer balle 2 Parameters: Name Type Argument Description callback Object &lt;optional&gt; Source: clients/pr/ax12.class.js, line 219 loopAX12() Loop AX12 Source: clients/pr/ax12.class.js, line 108 ouvrir( [callback]) Ouvrir Parameters: Name Type Argument Description callback Object &lt;optional&gt; Source: clients/pr/ax12.class.js, line 156 × Search results Close "},"clients_pr_detect.Detect.html":{"id":"clients_pr_detect.Detect.html","title":"Class: Detect","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Class: Detect Detect new Detect(callback) Detect constructor Parameters: Name Type Description callback Object Source: clients/pr/detect.class.js, line 23 Members callback :Object Type: Object Source: clients/pr/detect.class.js, line 31 devicesFound :Object Type: Object Source: clients/pr/detect.class.js, line 25 Methods searchArduinos() Searches Arduino Source: clients/pr/detect.class.js, line 63 sendSP() Sends Server port Source: clients/pr/detect.class.js, line 38 × Search results Close "},"clients_pr_elevator.Elevator.html":{"id":"clients_pr_elevator.Elevator.html","title":"Class: Elevator","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Class: Elevator Elevator new Elevator(sp) Elevator constructor Parameters: Name Type Description sp Object Serial Port OBJECT Source: clients/pr/elevator.class.js, line 29 Members orders_sent :array.&lt;Object&gt; Type: array.&lt;Object&gt; Source: clients/pr/elevator.class.js, line 39 pos :string Type: string Source: clients/pr/elevator.class.js, line 37 ready :boolean Type: boolean Source: clients/pr/elevator.class.js, line 33 sendStatus :Object Type: Object Source: clients/pr/elevator.class.js, line 35 sp :Object Type: Object Source: clients/pr/elevator.class.js, line 31 Methods descendre() Descendre Source: clients/pr/elevator.class.js, line 87 disconnect() Disconnects Source: clients/pr/elevator.class.js, line 61 monter() Monter Source: clients/pr/elevator.class.js, line 73 monterChouilla() Monter choilla Source: clients/pr/elevator.class.js, line 80 parseOrder(order) Parse Order Parameters: Name Type Description order string Source: clients/pr/elevator.class.js, line 104 release() Release Source: clients/pr/elevator.class.js, line 95 sendOrder(order) Fonctions for sending orders to the Arduino Parameters: Name Type Description order string Source: clients/pr/elevator.class.js, line 53 × Search results Close "},"clients_pr_others.Others.html":{"id":"clients_pr_others.Others.html","title":"Class: Others","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Class: Others Others new Others(sp, sendStatus, fifo) Others Constructor Parameters: Name Type Description sp Object Server port sendStatus Object fifo clients/shared/fifo.Fifo Source: clients/pr/others.class.js, line 20 Members fifo :clients/shared/fifo.Fifo Type: clients/shared/fifo.Fifo Source: clients/pr/others.class.js, line 30 ready :boolean Type: boolean Source: clients/pr/others.class.js, line 25 sendStatus :Object Type: Object Source: clients/pr/others.class.js, line 28 sp :Object Type: Object Source: clients/pr/others.class.js, line 22 Methods descendreAscenseur(callback [, time]) Descendre ascenseur Parameters: Name Type Argument Description callback Object time int &lt;optional&gt; Source: clients/pr/others.class.js, line 303 descendreMoyenAscenseur(callback [, time]) Descendre un peu ascenseur Parameters: Name Type Argument Description callback Object time int &lt;optional&gt; Source: clients/pr/others.class.js, line 277 descendreUnPeuAscenseur(callback [, time]) Descendre un peu ascenseur Parameters: Name Type Argument Description callback Object time int &lt;optional&gt; Source: clients/pr/others.class.js, line 251 fermerBloqueur(callback [, time]) Fermer bloqueur Parameters: Name Type Argument Description callback Object time int &lt;optional&gt; Source: clients/pr/others.class.js, line 134 fermerStabilisateur(callback [, time]) Fermer stabilisateur Parameters: Name Type Argument Description callback Object time int &lt;optional&gt; Source: clients/pr/others.class.js, line 95 lacherGobelet(callback [, time]) Lacher gobelet Parameters: Name Type Argument Description callback Object time int &lt;optional&gt; Source: clients/pr/others.class.js, line 186 monterAscenseur(callback [, time]) Monter ascenseur Parameters: Name Type Argument Description callback Object time int &lt;optional&gt; Source: clients/pr/others.class.js, line 225 monterMoyenAscenseur(callback [, time]) Monter moyen ascenseur Parameters: Name Type Argument Description callback Object time int &lt;optional&gt; Source: clients/pr/others.class.js, line 264 monterUnPeuAscenseur(callback [, time]) Monter un peu ascenseur Parameters: Name Type Argument Description callback Object time int &lt;optional&gt; Source: clients/pr/others.class.js, line 238 ouvrirBloqueurGrand(callback [, time]) Ouvrir stabilisateur grand Parameters: Name Type Argument Description callback Object time int &lt;optional&gt; Source: clients/pr/others.class.js, line 160 ouvrirBloqueurMoyen(callback [, time]) Ouvrir bloqueur moyen Parameters: Name Type Argument Description callback Object time int &lt;optional&gt; Source: clients/pr/others.class.js, line 147 ouvrirStabilisateurGrand(callback [, time]) Ouvrir stabilisateur grand Parameters: Name Type Argument Description callback Object time int &lt;optional&gt; Source: clients/pr/others.class.js, line 121 ouvrirStabilisateurMoyen(callback [, time]) Ouvrir stabilisateur moyen Parameters: Name Type Argument Description callback Object time int &lt;optional&gt; Source: clients/pr/others.class.js, line 108 parseCommand(data) Parse command Parameters: Name Type Description data string Source: clients/pr/others.class.js, line 54 prendreGobelet(callback [, time]) Prendre gobelet Parameters: Name Type Argument Description callback Object time int &lt;optional&gt; Source: clients/pr/others.class.js, line 173 rangerClap(callback [, time]) Ranger Clap Parameters: Name Type Argument Description callback Object time int &lt;optional&gt; Source: clients/pr/others.class.js, line 212 relacherAscenseur(callback [, time]) Relacher ascenseur Parameters: Name Type Argument Description callback Object time int &lt;optional&gt; Source: clients/pr/others.class.js, line 290 sendCommand( [callback], cmd, args, callback_delay) Send command Parameters: Name Type Argument Description callback Object &lt;optional&gt; cmd string args string callback_delay int Source: clients/pr/others.class.js, line 74 sortirClap(callback [, time]) Sortir Clap Parameters: Name Type Argument Description callback Object time int &lt;optional&gt; Source: clients/pr/others.class.js, line 199 × Search results Close "},"clients_pr_others-simu.Others.html":{"id":"clients_pr_others-simu.Others.html","title":"Class: Others","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Class: Others Others new Others(fifo) Others constructor Parameters: Name Type Description fifo clients/shared/fifo.Fifo Source: clients/pr/others.simu.class.js, line 18 Members fifo :clients/shared/fifo.Fifo Type: clients/shared/fifo.Fifo Source: clients/pr/others.simu.class.js, line 20 Methods callCallback( [callback], ms) Call callback Parameters: Name Type Argument Description callback Object &lt;optional&gt; ms int Source: clients/pr/others.simu.class.js, line 36 descendreAscenseur(callback) Descendre ascenseur Parameters: Name Type Description callback Object Source: clients/pr/others.simu.class.js, line 188 descendreMoyenAscenseur(callback) Descendre moyen ascenseur Parameters: Name Type Description callback Object Source: clients/pr/others.simu.class.js, line 179 descendreUnPeuAscenseur(callback) Descendre un peu ascenseur Parameters: Name Type Description callback Object Source: clients/pr/others.simu.class.js, line 161 disconnect() Disconnects (nothing ?) Source: clients/pr/others.simu.class.js, line 26 fermerBloqueur(callback) Fermer bloqueur Parameters: Name Type Description callback Object Source: clients/pr/others.simu.class.js, line 80 fermerStabilisateur(callback) Fermer stabilisateur Parameters: Name Type Description callback Object Source: clients/pr/others.simu.class.js, line 53 lacherGobelet(callback) Lacher Gobelet Parameters: Name Type Description callback Object Source: clients/pr/others.simu.class.js, line 134 monterAscenseur(callback) Monter ascenseur Parameters: Name Type Description callback Object Source: clients/pr/others.simu.class.js, line 143 monterMoyenAscenseur(callback) Monter moyen ascenseur Parameters: Name Type Description callback Object Source: clients/pr/others.simu.class.js, line 170 monterUnPeuAscenseur(callback) Monter un peu ascenseur Parameters: Name Type Description callback Object Source: clients/pr/others.simu.class.js, line 152 ouvrirBloqueurGrand(callback) Ouvrir bloqueur grand Parameters: Name Type Description callback Object Source: clients/pr/others.simu.class.js, line 98 ouvrirBloqueurMoyen(callback) Ouvrir bloqueur moyen Parameters: Name Type Description callback Object Source: clients/pr/others.simu.class.js, line 89 ouvrirStabilisateurGrand(callback) Ouvrir stabilisateur grand Parameters: Name Type Description callback Object Source: clients/pr/others.simu.class.js, line 71 ouvrirStabilisateurMoyen(callback) Ouvrir stabilisateur moyen Parameters: Name Type Description callback Object Source: clients/pr/others.simu.class.js, line 62 prendreGobelet(callback) Prendre Gobelet Parameters: Name Type Description callback Object Source: clients/pr/others.simu.class.js, line 125 rangerClap(callback) Ranger clap Parameters: Name Type Description callback Object Source: clients/pr/others.simu.class.js, line 116 sortirClap(callback) Sortir clap Parameters: Name Type Description callback Object Source: clients/pr/others.simu.class.js, line 107 × Search results Close "},"clients_shared_asserv.Asserv.html":{"id":"clients_shared_asserv.Asserv.html","title":"Class: Asserv","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Class: Asserv Asserv new Asserv(sp, client, who, sendStatus, fifo) Asserv Constructor Parameters: Name Type Description sp Object client Object who Object sendStatus Object fifo clients/shared/asserv.Asserv Source: clients/shared/asserv.class.js, line 34 Members client :Object Type: Object Source: clients/shared/asserv.class.js, line 42 color :string Type: string Source: clients/shared/asserv.class.js, line 50 currentId :int Type: int Source: clients/shared/asserv.class.js, line 48 fifo :clients/shared/asserv.Asserv Type: clients/shared/asserv.Asserv Source: clients/shared/asserv.class.js, line 52 pos :Object Type: Object Source: clients/shared/asserv.class.js, line 44 ready :boolean Type: boolean Source: clients/shared/asserv.class.js, line 36 sendStatus :Object Type: Object Source: clients/shared/asserv.class.js, line 38 sp :Object Type: Object Source: clients/shared/asserv.class.js, line 40 who :Object Type: Object Source: clients/shared/asserv.class.js, line 46 Methods calageX(x, a, callback) Calage X Parameters: Name Type Description x int a int Angle callback Object Source: clients/shared/asserv.class.js, line 193 calageY(y, a, callback) Calage Y Parameters: Name Type Description y int a int Angle callback Object Source: clients/shared/asserv.class.js, line 208 clean(callback) Clean Parameters: Name Type Description callback Object Source: clients/shared/asserv.class.js, line 359 convertColorA(a) Convert color Angle Parameters: Name Type Description a int Source: clients/shared/asserv.class.js, line 105 convertColorX(x) Convert color x Parameters: Name Type Description x int Source: clients/shared/asserv.class.js, line 81 convertColorY(y) Convert color y Parameters: Name Type Description y int Source: clients/shared/asserv.class.js, line 93 getPos(pos) Gets Potition Parameters: Name Type Description pos Object Source: clients/shared/asserv.class.js, line 159 goa(a, callback, no_fifo) Go Angle Parameters: Name Type Description a int callback Object no_fifo boolean Source: clients/shared/asserv.class.js, line 407 goxy(x, y, sens, callback, no_fifo) Go X Y Parameters: Name Type Description x int y int sens string callback Object no_fifo boolean Source: clients/shared/asserv.class.js, line 389 parseCommand(data) Parse Command Parameters: Name Type Description data string Source: clients/shared/asserv.class.js, line 236 Pos(pos) Position ? Parameters: Name Type Description pos Object Source: clients/shared/asserv.class.js, line 133 pwm(left, right, ms, callback) Pulse Width Modulation Parameters: Name Type Description left int right int ms int callback Object Source: clients/shared/asserv.class.js, line 371 sendCommand(cmd, args, wait_for_id [, callback], no_fifo) Sends Command Parameters: Name Type Argument Description cmd string args string wait_for_id int callback Object &lt;optional&gt; no_fifo boolean Source: clients/shared/asserv.class.js, line 288 sendPos() Sends Position Source: clients/shared/asserv.class.js, line 165 setA(a) Set Angle Parameters: Name Type Description a int Source: clients/shared/asserv.class.js, line 124 setAcc(acc, callback) Set Acceleration Parameters: Name Type Description acc int callback Object Source: clients/shared/asserv.class.js, line 347 setPid(p, i, d, callback) Set P I D Parameters: Name Type Description p float i float d float callback Object Source: clients/shared/asserv.class.js, line 421 setPos(pos, callback) Sets Position Parameters: Name Type Description pos Object callback Object Source: clients/shared/asserv.class.js, line 144 setPosCalage(pos, callback) Set position calage Parameters: Name Type Description pos Object callback Object Source: clients/shared/asserv.class.js, line 175 setVitesse(v, r, callback) Set Vitesse Parameters: Name Type Description v int Speed r float Rotation callback Object Source: clients/shared/asserv.class.js, line 316 speed(l, a, ms, callback) Speed ? Parameters: Name Type Description l int a int Angle ms int callback Object Source: clients/shared/asserv.class.js, line 332 × Search results Close "},"clients_shared_asserv-simu.Asserv.html":{"id":"clients_shared_asserv-simu.Asserv.html","title":"Class: Asserv","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Class: Asserv Asserv new Asserv(client, who, fifo) Asserv Constructor Parameters: Name Type Description client Object who Object fifo clients/shared/asserv.Asserv Source: clients/shared/asserv.simu.class.js, line 31 Members client :Object Type: Object Source: clients/shared/asserv.simu.class.js, line 33 fifo :clients/shared/asserv.Asserv Type: clients/shared/asserv.Asserv Source: clients/shared/asserv.simu.class.js, line 41 pos :Object Type: Object Source: clients/shared/asserv.simu.class.js, line 37 vitesse :int Type: int Source: clients/shared/asserv.simu.class.js, line 43 who :Object Type: Object Source: clients/shared/asserv.simu.class.js, line 35 Methods avancerPlot(callback) Avancer plot Parameters: Name Type Description callback Object Source: clients/shared/asserv.simu.class.js, line 144 calageX(x, a, callback) Calage X Parameters: Name Type Description x int a int Angle callback Object Source: clients/shared/asserv.simu.class.js, line 167 calageY(y, a, callback) Calage Y Parameters: Name Type Description y int a int Angle callback Object Source: clients/shared/asserv.simu.class.js, line 177 clean() Clean Source: clients/shared/asserv.simu.class.js, line 133 getPos(pos) Gets Position Parameters: Name Type Description pos Object Source: clients/shared/asserv.simu.class.js, line 120 goa(a, callback, no_fifo) Simu Go Angle Parameters: Name Type Description a int Angle callback Object no_fifo boolean Source: clients/shared/asserv.simu.class.js, line 328 goxy(x, y, sens, callback, no_fifo) Go X Y Parameters: Name Type Description x int y int sens string callback Object no_fifo boolean Source: clients/shared/asserv.simu.class.js, line 278 newOrder(callback, ms, no_fifo) New Order Parameters: Name Type Description callback Object ms int no_fifo boolean Source: clients/shared/asserv.simu.class.js, line 54 Pos(pos) Position ? Parameters: Name Type Description pos Object Source: clients/shared/asserv.simu.class.js, line 98 pwm(left, right, ms, callback) Pulse Width Modulation Parameters: Name Type Description left string right string ms int callback Object Source: clients/shared/asserv.simu.class.js, line 245 sendPos() Sends Position Source: clients/shared/asserv.simu.class.js, line 126 setA(a) Set Angle Parameters: Name Type Description a int Angle Source: clients/shared/asserv.simu.class.js, line 90 setPid(p, i, d, callback) Set P I D Parameters: Name Type Description p int i int d int callback Object Source: clients/shared/asserv.simu.class.js, line 354 setPos(pos, callback) Sets Position Parameters: Name Type Description pos Object callback Object Source: clients/shared/asserv.simu.class.js, line 109 setVitesse(v, r, callback) Set vitesse Parameters: Name Type Description v int Speed r int rotation callback Object Source: clients/shared/asserv.simu.class.js, line 155 simu_goa(a) Simu Go Angle Parameters: Name Type Description a int Angle Source: clients/shared/asserv.simu.class.js, line 315 simu_goxy(x, y) Simu Go X Y Parameters: Name Type Description x int y int Source: clients/shared/asserv.simu.class.js, line 262 simu_pwm(x, y, a, dt) Simu Pulse Width Modulation Parameters: Name Type Description x int y int a int Angle dt int Source: clients/shared/asserv.simu.class.js, line 227 simu_speed(vit, x, y, a, dt) Simu Speed Parameters: Name Type Description vit int Speed x int y int a int Angle dt int Source: clients/shared/asserv.simu.class.js, line 190 speed(l, a, ms, callback) Speed ? Parameters: Name Type Description l int a int Angle ms int callback Object Source: clients/shared/asserv.simu.class.js, line 208 × Search results Close "},"clients_shared_fifo.Fifo.html":{"id":"clients_shared_fifo.Fifo.html","title":"Class: Fifo","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Class: Fifo Fifo new Fifo() Fifo Constructor Source: clients/shared/fifo.class.js, line 17 Members fifo fifo Source: clients/shared/fifo.class.js, line 26 order_in_progress :boolean Type: boolean Source: clients/shared/fifo.class.js, line 28 Methods clean() Clean Source: clients/shared/fifo.class.js, line 24 newOrder(callback [, name]) New Order Parameters: Name Type Argument Description callback Object name string &lt;optional&gt; Source: clients/shared/fifo.class.js, line 45 nextOrder() Next Order Source: clients/shared/fifo.class.js, line 55 orderFinished() Order finished Source: clients/shared/fifo.class.js, line 34 × Search results Close "},"ia_actions.Actions.html":{"id":"ia_actions.Actions.html","title":"Class: Actions","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Class: Actions Actions new Actions(ia) Actions Constructor Parameters: Name Type Description ia Source: ia/actions.class.js, line 20 Members color Team color Source: ia/actions.class.js, line 24 done done Source: ia/actions.class.js, line 27 ia IA Source: ia/actions.class.js, line 22 inprogress Tasks in progress Source: ia/actions.class.js, line 31 killed killed Source: ia/actions.class.js, line 33 todo Tasks to do Source: ia/actions.class.js, line 29 valid_id_do_action Valid id do action Source: ia/actions.class.js, line 36 Methods actionFinished() Action Finished Source: ia/actions.class.js, line 394 collision() Collision Source: ia/actions.class.js, line 53 doAction(callback, action, startpoint, id) Do Action Parameters: Name Type Description callback action Object startpoint Object Properties Name Type Description x int y int id int Source: ia/actions.class.js, line 348 doNextAction(callback) Do next Action Parameters: Name Type Description callback Source: ia/actions.class.js, line 255 exists(action_name) Return true if the action exists Parameters: Name Type Description action_name string Source: ia/actions.class.js, line 155 getNearestStartpoint(pos, startpoints) Return nearest Startpoint Parameters: Name Type Description pos Object Properties Name Type Description x int y int startpoints Object Source: ia/actions.class.js, line 288 getNormAction(pos, an) Return the distance between a position and the position of the current action Parameters: Name Type Description pos Object Properties Name Type Description x int y int an string Action name Source: ia/actions.class.js, line 196 getPriorityAction(an) Get priority Action Parameters: Name Type Description an string Action name Source: ia/actions.class.js, line 205 importActions(data) Import Actions from data Parameters: Name Type Description data Object Source: ia/actions.class.js, line 72 isDoable(action) Return true id is doable Parameters: Name Type Description action Object Source: ia/actions.class.js, line 214 isDone(action_name) Return true if the action is done Parameters: Name Type Description action_name string Source: ia/actions.class.js, line 172 kill(action_name) Kill an action Parameters: Name Type Description action_name string Source: ia/actions.class.js, line 142 parseOrder(from, name, params) Parse Order Parameters: Name Type Description from string Sender name string Name of the action params Object Parameters of the action Source: ia/actions.class.js, line 121 pathDoAction(callback, actions, id) Find the path to the action Parameters: Name Type Description callback actions Object id int Source: ia/actions.class.js, line 311 × Search results Close "},"ia_data.Data.html":{"id":"ia_data.Data.html","title":"Class: Data","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Class: Data Data new Data(ia, nb_erobots, EGR_d, EPR_d) Data Constructor Parameters: Name Type Description ia Object nb_erobots int Number of robots in a team EGR_d EPR_d Source: ia/data.class.js, line 24 Members balle balle Source: ia/data.class.js, line 26 chargeur chargeur Source: ia/data.class.js, line 28 clap clap Source: ia/data.class.js, line 30 depot depot Source: ia/data.class.js, line 42 dots dots Source: ia/data.class.js, line 47 dynamic dynamic Source: ia/data.class.js, line 40 erobot erobot Source: ia/data.class.js, line 34 gobelet gobelet Source: ia/data.class.js, line 36 nb_erobots nb_erobot Source: ia/data.class.js, line 44 pile pile Source: ia/data.class.js, line 38 plot plot Source: ia/data.class.js, line 32 Methods getDistance(pos1, pos2) Return the distance between two positions Parameters: Name Type Description pos1 Object Properties Name Type Description x int y int pos2 Object Properties Name Type Description x int y int Source: ia/data.class.js, line 140 getObjectRef(name) Return Object Reference Parameters: Name Type Description name string Source: ia/data.class.js, line 101 importObjects() Import the Objects Source: ia/data.class.js, line 83 isCloser(dist1, dist2) Returns true if dist1 is smaller than dist2 Parameters: Name Type Description dist1 int dist2 int Source: ia/data.class.js, line 126 parseOrder(from, name, param) Parse Order Parameters: Name Type Description from string name string param Object Source: ia/data.class.js, line 173 theEnnemyWentThere(pos, e_robot_id) Takes a position and the ennemy robot # to put everything in its surroundings (~ 1.1 * radius) as &quot;lost&quot; Parameters: Name Type Description pos Object e_robot_id int Source: ia/data.class.js, line 150 × Search results Close "},"ia_export_simulator.ExportSimulator.html":{"id":"ia_export_simulator.ExportSimulator.html","title":"Class: ExportSimulator","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Class: ExportSimulator ExportSimulator new ExportSimulator(ia) ExportSimulator Constructor Parameters: Name Type Description ia Source: ia/export_simulator.class.js, line 26 Members ia IA Source: ia/export_simulator.class.js, line 28 Methods orderToSimu() Order to Simulator Source: ia/export_simulator.class.js, line 81 start() Start Source: ia/export_simulator.class.js, line 68 stop() Stop Source: ia/export_simulator.class.js, line 74 × Search results Close "},"ia_gr.Gr.html":{"id":"ia_gr.Gr.html","title":"Class: Gr","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Class: Gr Gr new Gr(ia, color) Gr Constructor Parameters: Name Type Description ia Object color string Source: ia/gr.class.js, line 22 Members ia IA Source: ia/gr.class.js, line 24 orders Orders Source: ia/gr.class.js, line 35 path Path Source: ia/gr.class.js, line 38 pos Position Source: ia/gr.class.js, line 26 size Size of the robot Source: ia/gr.class.js, line 29 Methods onCollision() On Collision : TODO send order STOP Source: ia/gr.class.js, line 97 parseOrder(from, name, params) Parse Order Parameters: Name Type Description from string name string params Object Source: ia/gr.class.js, line 70 sendOrders() Send Orders Source: ia/gr.class.js, line 88 sendPos() Send position Source: ia/gr.class.js, line 59 start() Start Source: ia/gr.class.js, line 44 stop() Stop Source: ia/gr.class.js, line 51 × Search results Close "},"ia_hokuyo.Hokuyo.html":{"id":"ia_hokuyo.Hokuyo.html","title":"Class: Hokuyo","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Class: Hokuyo Hokuyo new Hokuyo(ia [, params]) Hokuyo Constructor Parameters: Name Type Argument Description ia Object IA params Object &lt;optional&gt; Parameters Source: ia/hokuyo.class.js, line 33 Members ia IA Source: ia/hokuyo.class.js, line 39 lastNow Dernier timestamp où on a update (changé à la fin de l'update) Source: ia/hokuyo.class.js, line 41 matchStarted Match Started Source: ia/hokuyo.class.js, line 43 nb_hokuyo Number of hokuyo Source: ia/hokuyo.class.js, line 37 nb_lost nb d'itération depuis laquelle on a perdu un robot Source: ia/hokuyo.class.js, line 45 params Parameters Source: ia/hokuyo.class.js, line 35 Methods deleteOurRobots(dots) Remove our robot from the detected points Parameters: Name Type Description dots Object Source: ia/hokuyo.class.js, line 128 detectCollision(dots) Detects Collision Parameters: Name Type Description dots Object Source: ia/hokuyo.class.js, line 415 getBestMatchingCoef(dots, robots, now) Returns Best Matching Coefficient Parameters: Name Type Description dots Object robots Object now int Source: ia/hokuyo.class.js, line 197 getDistance(spot1, spot2) Return the distance between two points Parameters: Name Type Description spot1 Object Properties Name Type Description x int y int spot2 Object Properties Name Type Description x int y int Source: ia/hokuyo.class.js, line 85 getMatchingCoef(spot, eRobot, dt, status) Return Matching coefficient Parameters: Name Type Description spot Object Properties Name Type Description x int y int eRobot Object dt int status Source: ia/hokuyo.class.js, line 110 isOk() Return true if the number of Hokuyo isn't equal to 0 Source: ia/hokuyo.class.js, line 581 isOnTheStairs(spot) Return true if the position is on the stair Parameters: Name Type Description spot Object Properties Name Type Description x int y int Source: ia/hokuyo.class.js, line 96 mayday(reason) May Day Parameters: Name Type Description reason string Source: ia/hokuyo.class.js, line 550 parseOrder(from, name, params) Parse Order Parameters: Name Type Description from string name string params Object Source: ia/hokuyo.class.js, line 564 start() Starts the hokuyo Source: ia/hokuyo.class.js, line 51 stop() Stops the Hokuyo Source: ia/hokuyo.class.js, line 62 timedOut() Timed out Source: ia/hokuyo.class.js, line 71 updateNumberOfRobots(nb) Updates number of robots Parameters: Name Type Description nb int Number of robots Source: ia/hokuyo.class.js, line 526 × Search results Close "},"ia_ia.Ia.html":{"id":"ia_ia.Ia.html","title":"Class: Ia","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Class: Ia Ia new Ia(color, nb_erobots, EGR_d, EGPR_d) Constructor of Ia Parameters: Name Type Default Description color string yellow nb_erobots int 2 Number of robots in a team EGR_d EGR diameter EGPR_d EPR diameter Source: ia/ia.class.js, line 46 Members actions Actions Source: ia/ia.class.js, line 82 client Socket client Source: ia/ia.class.js, line 74 color Color of the IA team Source: ia/ia.class.js, line 66 data Data Source: ia/ia.class.js, line 80 export_simulator Export simulator Source: ia/ia.class.js, line 93 gr Grand robot Source: ia/ia.class.js, line 84 nb_erobots Number of robots controlled by the IA Source: ia/ia.class.js, line 70 pathfinding Pathfinding Source: ia/ia.class.js, line 78 pr Petit robot Source: ia/ia.class.js, line 86 timer Timer Source: ia/ia.class.js, line 76 Methods jack() Unjack action Starts the robots Source: ia/ia.class.js, line 144 stop() Stop the robots and stop the programm Source: ia/ia.class.js, line 161 × Search results Close "},"ia_pathfinding.Pathfinding.html":{"id":"ia_pathfinding.Pathfinding.html","title":"Class: Pathfinding","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Class: Pathfinding Pathfinding new Pathfinding(ia) Pathfinding constructor Parameters: Name Type Description ia Ia Source: ia/pathfinding.class.js, line 33 Members ia Ia Source: ia/pathfinding.class.js, line 35 Methods getPath(start, end, callback) Get Path Parameters: Name Type Description start end callback Source: ia/pathfinding.class.js, line 155 sendDynamic(objects) Send Dynamic Parameters: Name Type Description objects Object Source: ia/pathfinding.class.js, line 114 sendQuery(start, end, cb) Send a Query Parameters: Name Type Description start end cb Source: ia/pathfinding.class.js, line 100 updateMap() Update Map Source: ia/pathfinding.class.js, line 190 &lt;inner&gt; parse(data) Parse data Parameters: Name Type Description data Object Source: ia/pathfinding.class.js, line 128 &lt;inner&gt; vecMultiply(arr, ratio) Vector Multiply Parameters: Name Type Description arr Object ratio int Source: ia/pathfinding.class.js, line 87 × Search results Close "},"ia_timer.Timer.html":{"id":"ia_timer.Timer.html","title":"Class: Timer","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Class: Timer Timer new Timer(ia) Timer Constructor Parameters: Name Type Description ia Object Source: ia/timer.class.js, line 18 Members ia IA Source: ia/timer.class.js, line 24 match_started Match started Source: ia/timer.class.js, line 22 t0 t0 Source: ia/timer.class.js, line 20 Methods get() Get Timer. Permet d'obtenir le temps écoulé en ms Source: ia/timer.class.js, line 42 start() Start timer Source: ia/timer.class.js, line 29 status() Status Source: ia/timer.class.js, line 51 × Search results Close "},"module-clients_gr_actuators.html":{"id":"module-clients_gr_actuators.html","title":"Module: clients/gr/actuators","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Module: clients/gr/actuators Actuators module Source: clients/gr/actuators.class.js, line 1 See: clients/gr/actuators.Acts Requires module:clients/shared/fifo module:clients/gr/servos module:clients/gr/servos-simu module:clients/shared/asserv module:clients/shared/asserv-simu × Search results Close "},"module-clients_gr_detect.html":{"id":"module-clients_gr_detect.html","title":"Module: clients/gr/detect","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Module: clients/gr/detect Detect module Source: clients/gr/detect.class.js, line 1 See: clients/gr/detect.Detect × Search results Close "},"module-clients_gr_main.html":{"id":"module-clients_gr_main.html","title":"Module: clients/gr/main","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Module: clients/gr/main Main module Source: clients/gr/main.js, line 1 Requires module:server/socket_client module:config module:clients/gr/actuators module:clients/gr/detect × Search results Close "},"module-clients_gr_servos.html":{"id":"module-clients_gr_servos.html","title":"Module: clients/gr/servos","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Module: clients/gr/servos Servos module Source: clients/gr/servos.class.js, line 1 See: clients/gr/servos.Servos module:clients/gr/servos-simu × Search results Close "},"module-clients_gr_servos-simu.html":{"id":"module-clients_gr_servos-simu.html","title":"Module: clients/gr/servos-simu","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Module: clients/gr/servos-simu Servos Simulator module Source: clients/gr/servos.simu.class.js, line 1 See: clients/gr/servos-simu.Servos × Search results Close "},"module-clients_pr_actuators.html":{"id":"module-clients_pr_actuators.html","title":"Module: clients/pr/actuators","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Module: clients/pr/actuators Actuators module Source: clients/pr/actuators.class.js, line 1 See: clients/pr/actuators.Acts Requires module:clients/shared/fifo × Search results Close "},"module-clients_pr_ax12.html":{"id":"module-clients_pr_ax12.html","title":"Module: clients/pr/ax12","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Module: clients/pr/ax12 AX12 module Source: clients/pr/ax12.class.js, line 1 See: clients/pr/ax12.Ax12 × Search results Close "},"module-clients_pr_ax12-simu.html":{"id":"module-clients_pr_ax12-simu.html","title":"Module: clients/pr/ax12-simu","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Module: clients/pr/ax12-simu AX12 Simulator module Source: clients/pr/ax12.simu.class.js, line 1 See: clients/pr/ax12-simu.Ax12 × Search results Close "},"module-clients_pr_detect.html":{"id":"module-clients_pr_detect.html","title":"Module: clients/pr/detect","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Module: clients/pr/detect Detect module Source: clients/pr/detect.class.js, line 1 See: clients/pr/detect.Detect × Search results Close "},"module-clients_pr_elevator.html":{"id":"module-clients_pr_elevator.html","title":"Module: clients/pr/elevator","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Module: clients/pr/elevator Elevator module Source: clients/pr/elevator.class.js, line 1 See: clients/pr/elevator.Elevator × Search results Close "},"module-clients_pr_main.html":{"id":"module-clients_pr_main.html","title":"Module: clients/pr/main","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Module: clients/pr/main Main module Source: clients/pr/main.js, line 1 Requires module:server/socket_client module:config module:clients/pr/actuators module:clients/pr/detect × Search results Close "},"module-clients_pr_others.html":{"id":"module-clients_pr_others.html","title":"Module: clients/pr/others","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Module: clients/pr/others Others module Source: clients/pr/others.class.js, line 1 See: clients/pr/others.Others × Search results Close "},"module-clients_pr_others-simu.html":{"id":"module-clients_pr_others-simu.html","title":"Module: clients/pr/others-simu","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Module: clients/pr/others-simu Others Simulator module Source: clients/pr/others.simu.class.js, line 1 See: clients/pr/others-simu.Others × Search results Close "},"module-clients_shared_asserv.html":{"id":"module-clients_shared_asserv.html","title":"Module: clients/shared/asserv","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Module: clients/shared/asserv Asserv module Source: clients/shared/asserv.class.js, line 1 See: clients/shared/asserv.Asserv Requires module:clients/shared/defineParser × Search results Close "},"module-clients_shared_asserv-simu.html":{"id":"module-clients_shared_asserv-simu.html","title":"Module: clients/shared/asserv-simu","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Module: clients/shared/asserv-simu Asserv Simulator module Source: clients/shared/asserv.simu.class.js, line 1 See: clients/shared/asserv-simu.Asserv × Search results Close "},"module-clients_shared_defineParser.html":{"id":"module-clients_shared_defineParser.html","title":"Module: clients/shared/defineParser","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Module: clients/shared/defineParser Define Parser module Source: clients/shared/defineParser.js, line 1 × Search results Close "},"module-clients_shared_fifo.html":{"id":"module-clients_shared_fifo.html","title":"Module: clients/shared/fifo","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Module: clients/shared/fifo First In First Out module Source: clients/shared/fifo.class.js, line 1 See: clients/shared/fifo.Fifo × Search results Close "},"module-config.html":{"id":"module-config.html","title":"Module: config","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Module: config Server config Source: config.js, line 1 × Search results Close "},"module-ia_actions.html":{"id":"module-ia_actions.html","title":"Module: ia/actions","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Module: ia/actions Actions Module Source: ia/actions.class.js, line 1 See: ia/actions.Actions Requires module:log4js × Search results Close "},"module-ia_data.html":{"id":"module-ia_data.html","title":"Module: ia/data","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Module: ia/data Data Module Source: ia/data.class.js, line 1 See: ia/data.Data Requires module:log4js × Search results Close "},"module-ia_export_simulator.html":{"id":"module-ia_export_simulator.html","title":"Module: ia/export_simulator","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Module: ia/export_simulator Export simulator Module Source: ia/export_simulator.class.js, line 1 See: ia/export_simulator.ExportSimulator Requires module:log4js × Search results Close "},"module-ia_gr.html":{"id":"module-ia_gr.html","title":"Module: ia/gr","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Module: ia/gr Grand Robot Module Source: ia/gr.class.js, line 1 See: ia/gr.Gr Requires module:log4js × Search results Close "},"module-ia_hokuyo.html":{"id":"module-ia_hokuyo.html","title":"Module: ia/hokuyo","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Module: ia/hokuyo Hokuyo module Source: ia/hokuyo.class.js, line 1 See: ia/hokuyo.Hokuyo Requires module:log4js × Search results Close "},"module-ia_ia.html":{"id":"module-ia_ia.html","title":"Module: ia/ia","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Module: ia/ia IA Module Source: ia/ia.class.js, line 1 See: ia/ia.Ia Requires module:server/socket_client module:config module:ia/timer module:ia/pathfinding module:ia/data module:ia/actions module:ia/gr module:ia/pr module:ia/export_simulator module:log4js × Search results Close "},"module-ia_main.html":{"id":"module-ia_main.html","title":"Module: ia/main","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Module: ia/main Main module Source: ia/main.js, line 1 Requires module:ia/ia module:log4js × Search results Close "},"module-ia_pathfinding.html":{"id":"module-ia_pathfinding.html","title":"Module: ia/pathfinding","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Module: ia/pathfinding Pathfinding module Source: ia/pathfinding.class.js, line 1 See: ia/pathfinding.Pathfinding Requires module:log4js module:path module:child_process module:byline × Search results Close "},"module-ia_pr.html":{"id":"module-ia_pr.html","title":"Module: ia/pr","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Module: ia/pr Petit Robot Module Source: ia/pr.class.js, line 1 See: ia/pr.Pr Requires module:log4js × Search results Close "},"module-ia_timer.html":{"id":"module-ia_timer.html","title":"Module: ia/timer","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Module: ia/timer Timer Module Source: ia/timer.class.js, line 1 See: ia/timer.Timer × Search results Close "},"module-server_server.html":{"id":"module-server_server.html","title":"Module: server/server","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Module: server/server Server module Source: server/server.class.js, line 1 See: server/server.Server Requires module:ia/main module:log4js module:child_process module:ansi-to-html module:os module:socket.io × Search results Close "},"module-server_socket_client.html":{"id":"module-server_socket_client.html","title":"Module: server/socket_client","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Module: server/socket_client Socket Client Source: server/socket_client.class.js, line 1 See: server/socket_client.SocketClient Requires module:log4js module:socket.io-client × Search results Close "},"module-utcoupe_utcoupe.html":{"id":"module-utcoupe_utcoupe.html","title":"Module: utcoupe/utcoupe","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Module: utcoupe/utcoupe Main application Source: utcoupe/utcoupe.js, line 1 Requires module:server/server module:log4js × Search results Close "},"server_server.Server.html":{"id":"server_server.Server.html","title":"Class: Server","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Class: Server Server new Server( [server_port]) Starts a server on the port specified. Default port: 3128 Parameters: Name Type Argument Default Description server_port int &lt;optional&gt; 3128 Server port Source: server/server.class.js, line 27 Members ip :string Type: string Source: server/server.class.js, line 38 ip_port :string Type: string Source: server/server.class.js, line 44 network :Object Create the network default object Type: Object Source: server/server.class.js, line 56 progs :Object Type: Object Source: server/server.class.js, line 75 server :Object Create the server Type: Object Source: server/server.class.js, line 50 server_port :int Type: int Source: server/server.class.js, line 31 utcoupe :Object Type: Object Source: server/server.class.js, line 68 Methods launch() Launch the robot Source: server/server.class.js, line 184 sendNetwork() Send Network Source: server/server.class.js, line 168 sendUTCoupe(prog) sendUTCoupe Parameters: Name Type Description prog string Source: server/server.class.js, line 290 stop(prog) Stops all Parameters: Name Type Description prog string Source: server/server.class.js, line 271 × Search results Close "},"server_socket_client.SocketClient.html":{"id":"server_socket_client.SocketClient.html","title":"Class: SocketClient","body":" UTCoupe 17 Modules clients/gr/actuatorsclients/gr/detectclients/gr/mainclients/gr/servosclients/gr/servos-simuclients/pr/actuatorsclients/pr/ax12clients/pr/ax12-simuclients/pr/detectclients/pr/elevatorclients/pr/mainclients/pr/othersclients/pr/others-simuclients/shared/asservclients/shared/asserv-simuclients/shared/defineParserclients/shared/fifoconfigia/actionsia/dataia/export_simulatoria/gria/hokuyoia/iaia/mainia/pathfindingia/pria/timerserver/serverserver/socket_clientutcoupe/utcoupe Classes clients/gr/actuators.Actsclients/gr/detect.Detectclients/gr/servos.Servosclients/gr/servos-simu.Servosclients/pr/actuators.Actsclients/pr/ax12-simu.Ax12clients/pr/ax12.Ax12clients/pr/detect.Detectclients/pr/elevator.Elevatorclients/pr/others.Othersclients/pr/others-simu.Othersclients/shared/asserv.Asservclients/shared/asserv-simu.Asservclients/shared/fifo.Fifoia/actions.Actionsia/data.Dataia/export_simulator.ExportSimulatoria/gr.Gria/hokuyo.Hokuyoia/ia.Iaia/pathfinding.Pathfindingia/timer.Timerserver/server.Serverserver/socket_client.SocketClient Class: SocketClient SocketClient new SocketClient(params) Create a socket for the clients Parameters: Name Type Description params Object Properties Name Type Argument Default Description server_ip string &lt;optional&gt; 127.0.0.1:3128 Server IPv4 and port type string Type of client Source: server/socket_client.class.js, line 24 Members callbacks callbacks Source: server/socket_client.class.js, line 37 client Socket du client Source: server/socket_client.class.js, line 33 server_ip :string Server IP Type: string Source: server/socket_client.class.js, line 29 type Type of client Source: server/socket_client.class.js, line 41 Methods connect(callback) connect Parameters: Name Type Description callback Source: server/socket_client.class.js, line 86 errorServerNotFound() Throw Server not found Source: server/socket_client.class.js, line 127 errorServerTimeout() Throw Server timed out Source: server/socket_client.class.js, line 133 order(callback) order Parameters: Name Type Description callback Source: server/socket_client.class.js, line 95 send(to, name, params) Send parameters Parameters: Name Type Description to string name string params Object Source: server/socket_client.class.js, line 105 throwError(msg) Appends the error message in the logger Parameters: Name Type Description msg string message to send Source: server/socket_client.class.js, line 121 × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
